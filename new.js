var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(k){var c=0;return function(){return c<k.length?{done:!1,value:k[c++]}:{done:!0}}};$jscomp.arrayIterator=function(k){return{next:$jscomp.arrayIteratorImpl(k)}};$jscomp.makeIterator=function(k){var c="undefined"!=typeof Symbol&&Symbol.iterator&&k[Symbol.iterator];return c?c.call(k):$jscomp.arrayIterator(k)};var mvpjq=jQuery;
(function(k){var c=function(){};c.test=document.createElement("div");c.isEmpty=function(p){return 0==p.replace(/^\s+|\s+$/g,"").length};c.strip=function(p){return p.replace(/^\s+|\s+$/g,"")};c.isNumber=function(p){return!isNaN(parseFloat(p))&&isFinite(p)};c.isMobile=function(){return/Android|webOS|iPhone|iPad|iPod|sony|BlackBerry/i.test(navigator.userAgent)};c.isIE=function(){return-1!=c.getInternetExplorerVersion()?!0:!1};c.isChrome=function(){return!!k.chrome&&(!!k.chrome.webstore||!!k.chrome.runtime)};
c.isSafari=function(){return navigator.vendor&&-1<navigator.vendor.indexOf("Apple")&&navigator.userAgent&&-1==navigator.userAgent.indexOf("CriOS")&&-1==navigator.userAgent.indexOf("FxiOS")};c.hasLocalStorage=function(){try{return"localStorage"in k&&null!==k.localStorage}catch(p){return!1}};c.getInternetExplorerVersion=function(){var p=-1;if("Microsoft Internet Explorer"==navigator.appName){var u=navigator.userAgent,B=/MSIE ([0-9]{1,}[.0-9]{0,})/;null!=B.exec(u)&&(p=parseFloat(RegExp.$1))}else"Netscape"==
navigator.appName&&(u=navigator.userAgent,B=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/,null!=B.exec(u)&&(p=parseFloat(RegExp.$1)));return p};c.isIOS=function(){return navigator.userAgent.match(/(iPad|iPhone|iPod)/g)};c.isiPhoneIpod=function(){var p=navigator.userAgent;return-1<p.indexOf("iPhone")||-1<p.indexOf("iPod")};c.isAndroid=function(){return-1<navigator.userAgent.indexOf("Android")};c.hasHistory=function(){return!(!k.history||!history.pushState)};c.hasDownloadSupport=function(){return"download"in
document.createElement("a")};c.volumeCanBeSet=function(){var p=document.createElement("audio");if(!p)return!1;p.volume=0;return 0==p.volume?!0:!1};c.supportsWebGL=function(){try{return!!k.WebGLRenderingContext&&!!document.createElement("canvas").getContext("experimental-webgl")}catch(p){return!1}};c.canPlayMp4=function(){var p=document.createElement("video");return!(!p.canPlayType||!p.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,""))};c.canPlayMp3=function(){var p=document.createElement("audio");
return!(!p.canPlayType||!p.canPlayType("audio/mpeg;").replace(/no/,""))};c.canPlayWav=function(){var p=document.createElement("audio");return!(!p.canPlayType||!p.canPlayType("audio/wav;").replace(/no/,""))};c.relativePath=function(p){return/^(?:[a-z]+:)?\/\//i.test(p)};c.qualifyURL=function(p){var u=document.createElement("a");u.href=p;return u.href};c.hasFullscreen=function(){return c.test.requestFullscreen||c.test.mozRequestFullScreen||c.test.msRequestFullscreen||c.test.oRequestFullscreen||c.test.webkitRequestFullScreen};
c.selectText=function(p){var u=document;if(u.body.createTextRange)u=u.body.createTextRange(),u.moveToElementText(p),u.select();else if(k.getSelection){var B=k.getSelection();u=u.createRange();u.selectNodeContents(p);B.removeAllRanges();B.addRange(u)}};c.randomiseArray=function(p){var u=[],B=[],I;for(I=0;I<p;I++)u[I]=I;for(I=0;I<p;I++){var A=Math.round(Math.random()*(u.length-1));B[I]=u[A];u.splice(A,1)}return B};c.shuffleArray=function(p){var u;for(u=p.length-1;0<u;u--){var B=Math.floor(Math.random()*
(u+1));var I=p[u];p[u]=p[B];p[B]=I}return p};c.sortArray=function(p,u){var B,I=p.length,A=[];for(B=0;B<I;B++)A[B]=p[u[B]];return A};c.arrayContainsAnotherArray=function(p,u){var B,I=p.length;for(B=0;B<I;B++)if(-1<u.indexOf(p[B]))return!0;return!1};c.regroupArray=function(p){return p.reduce(function(u,B){var I=B.value,A=$jscomp.makeIterator(B.key.split("-"));A.next();var H=A.next().value,N=A.next().value;u[H]=u[H]||[];I.forEach(function(C,da){return(u[H][da]=u[H][da]||{})[N]=C});return u},[])};c.keysrt=
function(p,u,B){var I=1;B&&(I=-1);return p.sort(function(A,H){var N=A[u],C=H[u];return I*(N<C?-1:N>C?1:0)})};c.formatTime=function(p){p=parseInt(p,10);var u=Math.floor(p/3600),B=Math.floor((p-3600*u)/60);p=p-3600*u-60*B;if(0<u)return 10>u&&(u="0"+u),10>B&&(B="0"+B),10>p&&(p="0"+p),u+":"+B+":"+p;10>B&&(B="0"+B);10>p&&(p="0"+p);return B+":"+p};c.toSeconds=function(p){p=p.split(/[\.:,]+/);return Number(3600*+p[0]+60*+p[1]+ +p[2])};c.getViewportSize=function(p){return p?{w:k.innerWidth,h:k.innerHeight}:
{w:document.documentElement.clientWidth||k.innerWidth,h:document.documentElement.clientHeight||k.innerHeight}};c.isScrolledIntoView=function(p){p=p.getBoundingClientRect();var u=p.bottom;return 0<=p.top+p.height/2&&u-p.height/2<=k.innerHeight};c.getElementOffsetTop=function(p){p=p.getBoundingClientRect();var u=document.body,B=document.documentElement;return Math.round(p.bottom-100+(k.pageYOffset||B.scrollTop||u.scrollTop)-(B.clientTop||u.clientTop||0))};c.getScrollTop=function(p){p=document.documentElement;
return(k.pageYOffset||p.scrollTop)-(p.clientTop||0)};c.rgbToHex=function(p){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(p)?p:(p=p.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===p.length?"#"+("0"+parseInt(p[1],10).toString(16)).slice(-2)+("0"+parseInt(p[2],10).toString(16)).slice(-2)+("0"+parseInt(p[3],10).toString(16)).slice(-2):""};c.getUrlParameter=function(p){var u={};k.location.search.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(B,I,A){u[I]=A});return p?
u[p]:u};c.checkCssExist=function(p){for(var u=document.styleSheets,B=0,I=u.length;B<I;B++)if(u[B].href==p)return;u=document.createElement("link");u.rel="stylesheet";u.href=p;document.getElementsByTagName("head")[0].appendChild(u)};k.MVPUtils=c})(window);
(function(k,c){k.MVPPlaylistManager=function(p){function u(){Za?(Z=Za.slice(),Za=null):Z=MVPUtils.randomiseArray(C);console.log(Z)}function B(v,Da){if(v[0]==Da){var Pc=v.splice(0,1);v.push(Pc)}}function I(v,Da){if(v[C-1]==Da){var Pc=v.splice(C-1,1);v.unshift(Pc)}}var A=this,H=p.loopingOn,N=p.randomPlay,C,da=!1,E=-1,Oa,oc,Ha=!1,Z=[],Za,Vb=!1;setTimeout(function(){clearTimeout(this);c(A).trigger("MVPPlaylistManager.RANDOM_CHANGE",N);c(A).trigger("MVPPlaylistManager.LOOP_CHANGE",H)},50);this.setCounter=
function(v,Da){"undefined"===typeof Da&&(Da=!0);E=Da?E+parseInt(v,10):parseInt(v,10);isNaN(E)?alert("MVPPlaylistManager message: No active media, counter = "+E):(da=!1,H?(N?E>C-1?(E=Z[C-1],u(),B(Z,E),E=0):0>E&&(E=Z[0],u(),I(Z,E),E=C-1):E>C-1?E=0:0>E&&(E=C-1),c(A).trigger("MVPPlaylistManager.COUNTER_READY",A.getCounter())):(E>C-1?(E=C-1,da=!0):0>E&&(da=!0,E=0),da?c(A).trigger("MVPPlaylistManager.PLAYLIST_END"):c(A).trigger("MVPPlaylistManager.COUNTER_READY",A.getCounter())))};this.getCounter=function(){return N?
Vb?E:Z[E]:E};this.getNextCounter=function(v){v=E+v;da=!1;if(H)N?v>C-1?(v=Z[C-1],Za=MVPUtils.randomiseArray(C),B(Za,v),v=0):0>v&&(v=Z[0],Za=MVPUtils.randomiseArray(C),I(Za,v),v=C-1):v>C-1?v=0:0>v&&(v=C-1);else if(v>C-1?(da=!0,v=C-1):0>v&&(da=!0,v=0),da)return;return N?Vb?v:(Za||Z)[v]:v};this.advanceHandler=function(v){Vb=!1;Ha?(Ha=!1,oc+v>C-1?(E=C-1,c(A).trigger("MVPPlaylistManager.COUNTER_READY",A.getCounter())):0>oc+v?(E=0,c(A).trigger("MVPPlaylistManager.COUNTER_READY",A.getCounter())):A.setCounter(oc+
v,!1)):A.setCounter(v)};this.processPlaylistRequest=function(v){Vb=!1;N&&(Vb=!0,Oa=v,Ha||(oc=E,Ha=!0));A.setCounter(v,!1)};this.setPlaylistItems=function(v,Da){"undefined"===typeof Da&&(Da=!0);Da&&(E=-1);C=v;N&&u()};this.reSetCounter=function(v){"undefined"===typeof v?E=-1:(v=parseInt(v,10),C?(v>C-1?v=C-1:0>v&&(v=0),E=v):E=-1)};this.setRandom=function(v){N="undefined"!==typeof v?v:!N;3>C&&(N=!1);N&&u();if(N){var Da=Z.length;for(v=0;v<Da;v++)if(Z[v]==E){if(0==v)break;v=Z.splice(v,1);Z.unshift(parseInt(v,
10));break}E=0}else Ha?(E=Oa,Ha=!1):E=Z[E];c(A).trigger("MVPPlaylistManager.RANDOM_CHANGE",N)};this.getRandom=function(v){return N};this.setLooping=function(v){H="undefined"!==typeof v?v:!H;c(A).trigger("MVPPlaylistManager.LOOP_CHANGE",H)};this.getLooping=function(v){return H};this.getPosition=function(v){return Z.indexOf(v)}}})(window,jQuery);
(function(k,c){function p(I,A,H,N){var C={},da=H.width();H=H.height();N=u(A,N);A=N.width;N=N.height;var E=(da-0)/(H-0),Oa=A/N;Oa<E?I?(C.width=(H-0)/N*A,C.height=H-0):(C.height=(da-0)/A*N,C.width=da-0):Oa>E?I?(C.height=(da-0)/A*N,C.width=da-0):(C.width=(H-0)/N*A,C.height=H-0):(C.width=da-0,C.height=H-0);return C}function u(I,A){var H={};"video"==I?A[0]&&A[0].videoWidth&&A[0].videoHeight?(H.width=A[0].videoWidth,H.height=A[0].videoHeight):(H.width=16,H.height=9):"iframe"==I?A.sw&&A.sh?(H.width=A.sw,
H.height=A.sh):(H.width=16,H.height=9):"image"==I&&(H.width=A.width(),H.height=A.height());return H}var B=function(){};B.resizeMedia=function(I,A,H,N){var C,da=H.width();var E=H.height();0==A?C=u(I,N):1==A?C=p(!0,I,H,N):2==A&&(C=p(!1,I,H,N));I=parseInt((da-C.width)/2,10);E=parseInt((E-C.height)/2,10);N.css({width:C.width+"px",height:C.height+"px",left:I+"px",top:E+"px"})};k.MVPAspectRatio=B})(window,jQuery);
(function(k){k.fn.mvp=function(c){function p(){ea.swipe({swipeLeft:function(a,b,d,e,f,m){if(!x)return!1;("audio"==l||"video"==l&&"video_360"!=O||"image"==l&&"image_360"!=O||"youtube"==l&&"chromeless"==c.youtubePlayerType&&!g.is360||"vimeo"==l&&"chromeless"==sa&&!g.is360)&&Eb()},swipeRight:function(a,b,d,e,f,m){if(!x)return!1;("audio"==l||"video"==l&&"video_360"!=O||"image"==l&&"image_360"!=O||"youtube"==l&&"chromeless"==c.youtubePlayerType&&!g.is360||"vimeo"==l&&"chromeless"==sa&&!g.is360)&&te()}})}
function u(){ue=!1;n.removeClass("mvp-theater");c.theaterElement&&k(c.theaterElement).removeClass(c.theaterElementClass);pc&&pc.removeClass("mvp-lightbox-center");Kf=c.instanceName;var a=n[0];if("normal"==ta){var b=document,d=b.documentElement;b=b.body;Sg=d.scrollLeft||b.scrollLeft||0;Tg=d.scrollTop||b.scrollTop||0;k(q).trigger("fullscreenBeforeEnter",{instance:q,instanceName:c.instanceName,media:g})}si?a.requestFullscreen?document.fullscreenElement?document.exitFullscreen():a.requestFullscreen():
a.webkitRequestFullScreen?document.webkitIsFullScreen?document.webkitCancelFullScreen():a.webkitRequestFullScreen():a.msRequestFullscreen?document.msIsFullscreen||document.msFullscreenElement?document.msExitFullscreen():a.msRequestFullscreen():a.mozRequestFullScreen&&(document.fullscreenElement||document.mozFullScreenElement?document.mozCancelFullScreen():a.mozRequestFullScreen()):"fullscreen"==ta?I():B();setTimeout(function(){jb()},250)}function B(){ta="fullscreen";ia.removeClass(c.minimizeClass);
Ug.addClass("mvp-fs-overflow");n.addClass("mvp-fs");"lightbox"==c.playerType&&Wb.addClass("mvp-fs");Xb.find(".mvp-btn-fullscreen").hide();Xb.find(".mvp-btn-normal").show();qc.hide();document.body.style.cursor="default";"custom"==c.rightClickContextMenu&&(ve.find(".mvp-context-fullscreen-enter").hide(),ve.find(".mvp-context-fullscreen-exit").show());c.hidePlaylistOnFullscreenEnter&&c.playlistOpened&&(Lf=!0,U.hide(),c.playlistOpened=!1);"outer"==F&&rc.hide();k(q).trigger("fullscreenEnter",{instance:q,
instanceName:c.instanceName,media:g})}function I(){ta="normal";Ug.removeClass("mvp-fs-overflow");n.removeClass("mvp-fs");"lightbox"==c.playerType&&Wb.removeClass("mvp-fs");Xb.find(".mvp-btn-fullscreen").show();Xb.find(".mvp-btn-normal").hide();qc.show();document.body.style.cursor="default";"custom"==c.rightClickContextMenu&&(ve.find(".mvp-context-fullscreen-enter").show(),ve.find(".mvp-context-fullscreen-exit").hide());Lf&&!c.playlistOpened&&(Lf=!1,U.show(),c.playlistOpened=!0);"outer"==F&&rc.show();
window.scrollTo(Sg,Tg);c.minimizeOnScroll&&(c.minimizeOnScrollOnlyIfPlaying?fa&&Qc():Qc());Kf=null;k(q).trigger("fullscreenExit",{instance:q,instanceName:c.instanceName,media:g})}function A(a){if(!we){if("touchstart"==a.type){if(a=a.originalEvent.touches,!(a&&0<a.length))return!1}else a.preventDefault();we=!0;Pa.on(sb,function(b){a:{if("touchmove"==b.type){if(b.originalEvent.touches&&b.originalEvent.touches.length)var d=b.originalEvent.touches;else if(b.originalEvent.changedTouches&&b.originalEvent.changedTouches.length)d=
b.originalEvent.changedTouches;else break a;if(1<d.length)break a;d=d[0]}else d=b;b.preventDefault();H(d)}}).on(Rc,function(b){a:if(we){we=!1;Pa.off(sb).off(Rc);if("touchend"==b.type){if(b.originalEvent.touches&&b.originalEvent.touches.length)var d=b.originalEvent.touches;else if(b.originalEvent.changedTouches&&b.originalEvent.changedTouches.length)d=b.originalEvent.changedTouches;else break a;if(1<d.length)break a;d=d[0]}else d=b;b.preventDefault();H(d)}})}return!1}function H(a){a=a.pageX-Qa.offset().left;
0>a?a=0:a>Ea&&(a=Ea);S||(Ea=Qa.width());var b=Math.max(0,Math.min(1,a/Ea));if(S){if("audio"!=l||isNaN(w.duration))if("video"!=l||isNaN(r.duration))"youtube"==l?(d=D.getDuration(),e=b*d,e>d-1&&(e=d-1),D.seekTo(e)):"vimeo"==l&&("chromeless"==sa&&P.show(),0!=Fb?(d=Fb,e=b*d,e>d-1&&(e=d-1),y.setCurrentTime(e)):y.getDuration().then(function(f){d=f;e=b*d;e>d-1&&(e=d-1);y.setCurrentTime(e)}));else{d=r.duration;e=b*d;e>d-1&&(e=d-1);try{r.currentTime=e.toFixed(1)}catch(f){}}else{var d=w.duration;var e=b*d;
e>d-1&&(e=d-1);try{w.currentTime=e.toFixed(1)}catch(f){}}fa||(Gb=null,sc(!0))}else g.duration&&(e=b*g.duration,g.start=e,Ad.width(e/g.duration*Ea))}function N(a){var b=a.pageX-Qa.offset().left;if(!MVPUtils.isNumber(b))return!1;0>b?b=0:b>Ea&&(b=Ea);var d=Math.max(0,Math.min(1,b/Ea));if(!MVPUtils.isNumber(d))return!1;b=ia.hasClass(c.minimizeClass)?ia:Hb?ia:n;var e=b[0].getBoundingClientRect(),f=$a[0].getBoundingClientRect();if(g.duration)var m=g.duration;else"audio"==l?m=w.duration:"video"==l?m=r.duration:
"youtube"==l?m=D.getDuration():"vimeo"==l&&(m=Fb);if(g.previewSeek&&tb.length){var h=m*d;MVPUtils.isNumber(m)&&ti.html(MVPUtils.formatTime(h));if(tb.length)for(d=tb.length,m=0;m<d;m++){var t=tb[m];var z=t.start;var ha=t.end;if(h>=z&&h<=ha){if(!Ib){t=t.url;var aa=t.substr(t.lastIndexOf("=")+1).split(",");aa="-"+aa[0]+"px -"+aa[1]+"px";t=encodeURI(t);Ib={};Ib.start=z;Ib.end=ha;ui.css({"background-image":"url("+t+")","background-position":aa})}}else Ib&&(h<Ib.start||h>Ib.end)&&(Ib=null)}a=a.pageX-Ra.scrollLeft()-
e.left-Yb.outerWidth()/2;h=f.top-e.top-Yb.outerHeight()-10;"lightbox"!=c.playerType&&(0>a?a=0:a+Yb.outerWidth()>b.width()&&(a=b.width()-Yb.outerWidth()));Yb.css({left:parseInt(a,10)+"px",top:parseInt(h,10)+"px"}).show()}else a=a.pageX-Ra.scrollLeft()-e.left-ba.outerWidth()/2,h=f.top-e.top-ba.outerHeight(),"lightbox"!=c.playerType&&(0>a?a=0:a+ba.outerWidth()>b.width()&&(a=b.width()-ba.outerWidth())),ba.css({left:parseInt(a,10)+"px",top:parseInt(h,10)+"px"}).show(),MVPUtils.isNumber(m)&&ba.text(MVPUtils.formatTime(m*
d)+" / "+MVPUtils.formatTime(m))}function C(a){if(x){if(!xe){if("touchstart"==a.type){if(a=a.originalEvent.touches,!(a&&0<a.length))return!1}else a.preventDefault();xe=!0;Pa.on(sb,function(b){a:{if("touchmove"==b.type){if(b.originalEvent.touches&&b.originalEvent.touches.length)var d=b.originalEvent.touches;else if(b.originalEvent.changedTouches&&b.originalEvent.changedTouches.length)d=b.originalEvent.changedTouches;else break a;if(1<d.length)break a;d=d[0]}else d=b;b.preventDefault();E(d)}}).on(Rc,
function(b){a:if(xe){xe=!1;Pa.off(sb).off(Rc);if("touchend"==b.type){if(b.originalEvent.touches&&b.originalEvent.touches.length)var d=b.originalEvent.touches;else if(b.originalEvent.changedTouches&&b.originalEvent.changedTouches.length)d=b.originalEvent.changedTouches;else break a;if(1<d.length)break a;d=d[0]}else d=b;b.preventDefault();E(d)}})}return!1}}function da(){if(!x)return!1;0<J?(Vg=J,J=0):J=Vg;Oa()}function E(a){tc?J=Math.max(0,Math.min(1,(a.pageX-Sc.offset().left)/Tc)):(J=Math.max(0,Math.min(1,
(a.pageY-Sc.offset().top)/Tc)),J=1-J);Oa()}function Oa(a){"undefined"!==typeof a&&(J=a);"undefined"!==typeof J&&("audio"==l?w&&(w.volume=J,w.muted=0==J?!0:!1):"video"==l?r&&(r.volume=J,r.muted=0==J?!0:!1):"youtube"==l?D&&(D.setVolume(100*J),0==J?D.mute():D.unMute()):"vimeo"==l&&y&&y.setVolume(J));Uc.children().hide();0==J?Uc.find(".mvp-btn-volume-off").show():0<J&&.5>J?Uc.find(".mvp-btn-volume-down").show():.5<=J&&1>=J&&Uc.find(".mvp-btn-volume-up").show();0<J&&Vc&&(Vc.remove(),Vc=null);vi.css(tc?
"width":"height",J*Tc+"px");k(q).trigger("volumeChange",{instance:q,instanceName:c.instanceName,volume:J})}function oc(a){var b=tc?a.pageX-Sc.offset().left:a.pageY-Sc.offset().top;0>b?b=0:b>Tc&&(b=Tc);b=Math.max(0,Math.min(1,b/Tc));if(!MVPUtils.isNumber(b))return!1;tc||(b=1-b);b=parseInt(100*b,10);ba.text(b+" %");var d=(ia.hasClass(c.minimizeClass)?ia:Hb?ia:n)[0].getBoundingClientRect(),e=Sa[0].getBoundingClientRect();tc?(b=parseInt(a.pageX-Ra.scrollLeft()-d.left-ba.outerWidth()/2),a=parseInt(e.top-
d.top-ba.outerHeight())):(b=parseInt(e.left-d.left-ba.outerWidth()/2+Sa.outerWidth()/2),a=parseInt(a.pageY-Ra.scrollTop()-d.top-ba.outerHeight()-10));ba.css({left:b+"px",top:a+"px"}).show()}function Ha(){V.find(".mvp-settings-menu").css("display","none");var a=V.width(),b=V.height();V.css({width:"auto",height:"auto"});uc.css("display","block");var d=uc.width(),e=uc.height();V.css({width:a+"px",height:b+"px"});setTimeout(function(){V.css({width:d+"px",height:e+"px"})},20)}function Z(a){ye&&ye.removeClass("mvp-menu-active");
ye=Wg.find(".mvp-menu-item[data-value='"+a+"']").addClass("mvp-menu-active");V.find(".mvp-playback-rate-menu-value").text(ye.text())}function Za(a,b){var d,e=a.length;for(d=0;d<e;d++){var f=a[d];f.label?k("<li/>").addClass("mvp-menu-item").attr({"data-value":f.value,"data-label":f.label}).text(f.label).on("click",Vb).appendTo(ze):k("<li/>").addClass("mvp-menu-item").attr("data-value",f).text(f).on("click",Vb).appendTo(ze)}v(b);Xg.removeClass("mvp-force-hide")}function Vb(){if(k(this).hasClass("mvp-menu-active"))return c.closeSettingsMenuOnSelect?
Zb.click():Ha(),!1;var a=k(this).attr("data-value");g.quality=a;v(a);S?q.setPlaybackQuality(a):Mf();c.closeSettingsMenuOnSelect?Zb.click():Ha()}function v(a){Ae&&Ae.removeClass("mvp-menu-active");Ae=ze.find(".mvp-menu-item[data-value='"+a+"']").addClass("mvp-menu-active");V.find(".mvp-quality-menu-value").text(Ae.text())}function Da(){var a=k(this).attr("data-value");"hls"==O&&(W.audioTrack=a);c.closeSettingsMenuOnSelect?Zb.click():Ha()}function Pc(){var a,b=g.subtitles.length,d;Bd&&localStorage.getItem(vc)&&
(d=JSON.parse(localStorage.getItem(vc)));for(a=0;a<b;a++){var e=g.subtitles[a];k("<li/>").addClass("mvp-menu-item").attr({"data-value":e.value,"data-label":e.label}).text(e.label).on("click",wi).appendTo(Cd);if(d){if(d.active&&d.value==e.label)var f=e.label}else e["default"]&&(f=e.label)}f||(f=c.subtitleOffText);q.setSubtitle(f);Yg.removeClass("mvp-force-hide");wc.show();Be=!0}function wi(){if(k(this).hasClass("mvp-menu-active"))return c.closeSettingsMenuOnSelect?Zb.click():Ha(),!1;var a=k(this).attr("data-label");
q.setSubtitle(a);c.closeSettingsMenuOnSelect?Zb.click():Ha()}function xi(a){k.ajax({url:a.src}).done(function(b){b=b.split(/[\r\n]/);var d;for(d in b){var e=b[d];if(/.vtt/.test(e)){a.src=a.src.substr(0,a.src.lastIndexOf("/")+1)+e;var f=!0;break}}f?Zg(a):console.log("Error loading subtitle!")}).fail(function(b,d,e){console.log(b,d,e)})}function Zg(a){if("file:"==window.location.protocol)return console.log("Getting subtitle requires server connection."),!1;kb=[];var b=a.src;-1!=b.indexOf("ebsfm:")&&
(b=atob(b.substr(6)));k.ajax({url:b}).done(function(d){d=d.replace(/\r\n|\r|\n/g,"\n");d=MVPUtils.strip(d);d=d.split("\n\n");var e,f=0,m;for(e in d){var h=d[e].split("\n");if("WEBVTT"!=h&&2<=h.length&&"WEBVTT"!=h[0]){if(2<h.length){var t=MVPUtils.strip(h[1].split(" --\x3e ")[0]);var z=MVPUtils.strip(h[1].split(" --\x3e ")[1]);var ha=h[2];if(3<h.length)for(m=3;m<h.length;m++)ha+="\n"+h[m]}else t=MVPUtils.strip(h[0].split(" --\x3e ")[0]),z=MVPUtils.strip(h[0].split(" --\x3e ")[1]),ha=h[1];kb[f]={};
kb[f].start=MVPUtils.toSeconds(t);kb[f].end=MVPUtils.toSeconds(z);kb[f].text=ha;f++}}Ce[a.label]=kb;Wc=!0;S&&(Gb=null,sc(!0))}).fail(function(d,e,f){console.log(d,e,f)})}function Dd(a){if("undefined"!==typeof a){if(lb&&1==a||!lb&&0==a)return!1;lb=!a}lb?ub.one("transitionend",function(){ub.css("display","none");lb=!1}).removeClass("mvp-holder-visible"):(ub.css("display","block"),setTimeout(function(){ub.addClass("mvp-holder-visible");lb=!0},20))}function yi(){Ta=[];k.ajax({url:g.chapters}).done(function(a){a=
a.replace(/\r\n|\r|\n/g,"\n");a=MVPUtils.strip(a);a=a.split("\n\n");var b,d=0,e;for(b in a){var f=a[b].split("\n");if("WEBVTT"!=f){if(2<=f.length)if(2<f.length){var m=MVPUtils.strip(f[1].split(" --\x3e ")[0]);var h=MVPUtils.strip(f[1].split(" --\x3e ")[1]);var t=f[2];if(2<f.length)for(e=3;e<f.length;e++)t+="\n"+f[e]}else m=MVPUtils.strip(f[0].split(" --\x3e ")[0]),h=MVPUtils.strip(f[0].split(" --\x3e ")[1]),t=f[1];Ta[d]={};Ta[d].id=d;Ta[d].start=MVPUtils.toSeconds(m);Ta[d].end=MVPUtils.toSeconds(h);
Ta[d].text=t;d++}}g.duration&&c.showControlsBeforeStart&&$g(g.duration);Xc=!0}).fail(function(a,b,d){console.log("Error loading chapters: ",a.responseText,b,d)})}function $g(a){var b,d=Ta.length;for(b=0;b<d;b++){var e=Ta[b];var f=Math.abs(e.end-e.start);f=f/a*100;var m=e.start/a*100;f=k('<div class="mvp-chapter-indicator"><div class="mvp-chapter-indicator-highlight"></div></div>').css({width:f+"%",left:m+"%"}).attr({"data-id":b,"data-title":e.text,"data-start":e.start,"data-end":e.end});if(!za)f.on("mouseenter",
function(){var h=k(this),t=h.attr("data-id");h.find(".mvp-chapter-indicator-highlight").addClass("mvp-chapter-indicator-highlight-visible");Ed.find('.mvp-chapter-menu-item[data-id="'+t+'"]').addClass("mvp-chapter-menu-item-active");Yc.css("opacity",1).text(h.attr("data-title"));fa||Y.hide()}).on("mouseleave",function(){var h=k(this),t=h.attr("data-id");Yc.css("opacity",0);fa||Y.show();vb&&vb.id==t||(h.find(".mvp-chapter-indicator-highlight").removeClass("mvp-chapter-indicator-highlight-visible"),
Ed.find('.mvp-chapter-menu-item[data-id="'+t+'"]').removeClass("mvp-chapter-menu-item-active"))});if(c.seekToChapterStart)f.on("click",function(){var h=k(this),t=h.attr("data-id");Nf(t);h=Number(h.attr("data-start"));S?(q.seek(h),fa||(Gb=null,sc(!0))):(g.start=h,g.duration&&(Ea=Qa.width(),Ad.width(h/g.duration*Ea)))});f.appendTo(Qa);e=k('<li class="mvp-chapter-menu-item">'+e.text+"</li>").attr({"data-id":b,title:e.text,"data-start":e.start}).on("click",function(){var h=k(this),t=h.attr("data-id");
Nf(t);h=Number(h.attr("data-start"));S?(q.seek(h),fa||(Gb=null,sc(!0))):(g.start=h,g.duration&&(Ea=Qa.width(),Ad.width(h/g.duration*Ea)));c.hideChapterMenuOnChapterSelect&&Dd(!1)}).appendTo(Ed);if(!za)e.on("mouseenter",function(){var h=k(this),t=h.attr("data-id");Qa.find('.mvp-chapter-indicator[data-id="'+t+'"]').find(".mvp-chapter-indicator-highlight").addClass("mvp-chapter-indicator-highlight-visible");h.addClass("mvp-chapter-menu-item-active")}).on("mouseleave",function(){var h=k(this),t=h.attr("data-id");
vb&&vb.id==t||(Qa.find('.mvp-chapter-indicator[data-id="'+t+'"]').find(".mvp-chapter-indicator-highlight").removeClass("mvp-chapter-indicator-highlight-visible"),h.removeClass("mvp-chapter-menu-item-active"))})}Fd=!0;Gd.show();c.autoOpenChapterMenu&&Dd()}function Nf(a){De&&De.removeClass("mvp-chapter-menu-item-active");De=Ed.find(".mvp-chapter-menu-item[data-id='"+a+"']").addClass("mvp-chapter-menu-item-active");Ee&&Ee.removeClass("mvp-chapter-indicator-highlight-visible");Ee=Qa.find(".mvp-chapter-indicator[data-id='"+
a+"']").find(".mvp-chapter-indicator-highlight").addClass("mvp-chapter-indicator-highlight-visible");vb=Ta[a]}function ah(a){var b,d=ab.length;for(b=0;b<d;b++){var e=ab[b];var f=Math.round(e.begin/a*100);e.marker=k('<div class="mvp-ad-indicator"></div>').css({left:f+"%"}).appendTo(Qa)}}function zi(){if("file:"==window.location.protocol)return console.log("Getting preview seek requires server connection."),!1;tb=[];k.ajax({url:g.previewSeek}).done(function(a){a=a.replace(/\r\n|\r|\n/g,"\n");a=MVPUtils.strip(a);
a=a.split("\n\n");var b,d=0;for(b in a){var e=a[b].split("\n");if("WEBVTT"!=e){if(2<=e.length){var f=MVPUtils.strip(e[0].split(" --\x3e ")[0]);var m=MVPUtils.strip(e[0].split(" --\x3e ")[1]);e=e[1];tb[d]={};tb[d].start=MVPUtils.toSeconds(f);tb[d].end=MVPUtils.toSeconds(m);tb[d].url=e}d++}}Fe=!0}).fail(function(a,b,d){console.log(a,b,d)})}function Ai(a){a.preventDefault();if(!x)return!1;a=k(a.currentTarget);if(a.hasClass("mvp-playback-toggle"))q.togglePlayback();else if(a.hasClass("mvp-big-play"))Y.hide(),
q.togglePlayback();else if(a.hasClass("mvp-playlist-toggle"))bh();else if(a.hasClass("mvp-resume-continue"))Of(!1),0==mb||0!=J||bb||(bb=!0,J=mb),ja();else if(a.hasClass("mvp-resume-restart"))Of(!1),0==mb||0!=J||bb||(bb=!0,J=mb),ca=0,ja();else if(a.hasClass("mvp-cc-toggle"))q.toggleSubtitle();else if(a.hasClass("mvp-info-toggle"))Pf();else if(a.hasClass("mvp-info-close"))Pf(!1);else if(a.hasClass("mvp-redirect-login-close"))Zc();else if(a.hasClass("mvp-share-close"))Qf(!1);else if(a.hasClass("mvp-chapter-toggle"))Dd();
else if(a.hasClass("mvp-chapter-menu-close"))Dd(!1);else if(a.hasClass("mvp-minimize-close"))Ra.off(ch),Qc(!0),c.minimizeOnScroll=!1;else if(a.hasClass("mvp-pwd-confirm")){var b=Ge.val();if(MVPUtils.isEmpty(b))alert(Rf);else if("undefined"===typeof md5){a=document.createElement("script");a.type="text/javascript";var d=MVPUtils.relativePath(c.md5_js)?c.md5_js:MVPUtils.qualifyURL(c.sourcePath+c.md5_js);a.src=d;a.onload=a.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||(md5(b)!=
g.pwd?alert(Rf):(delete g.pwd,$b.one("transitionend",function(){$b.css("display","none")}).removeClass("mvp-holder-visible"),Ge.val(""),"0"!=g.lockTime||$c?xc?ad():ja():Zc("watch")))};a.onerror=function(){alert("Error loading "+this.src)};d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(a,d)}else md5(b)!=g.pwd?alert(Rf):(delete g.pwd,$b.one("transitionend",function(){$b.css("display","none")}).removeClass("mvp-holder-visible"),Ge.val(""),"0"!=g.lockTime||$c?xc?ad():ja():Zc("watch"))}else if(a.hasClass("mvp-previous-toggle")){if(c.disableVideoSkip)return!1;
te()}else if(a.hasClass("mvp-next-toggle")){if(c.disableVideoSkip)return!1;Eb()}else if(a.hasClass("mvp-rewind-toggle"))q.seek(0);else if(a.hasClass("mvp-skip-backward-toggle"))q.seekBackward();else if(a.hasClass("mvp-skip-forward-toggle"))q.seekForward();else if(a.hasClass("mvp-loop-toggle"))L.setLooping();else if(a.hasClass("mvp-shuffle-toggle"))L.setRandom();else if(a.hasClass("mvp-share-toggle"))Qf();else if(a.hasClass("mvp-pip-toggle"))if(dh)if(document.pictureInPictureElement)try{document.exitPictureInPicture()}catch(e){}else try{r.requestPictureInPicture()}catch(e){}else r.webkitSupportsPresentationMode&&
"function"===typeof r.webkitSetPresentationMode&&r.webkitSetPresentationMode("picture-in-picture"===r.webkitPresentationMode?"inline":"picture-in-picture");else if(a.hasClass("mvp-theater-toggle"))ue?(c.theaterElement&&k(c.theaterElement).removeClass(c.theaterElementClass),k(q).trigger("beforeTheaterExit",{instance:q,instanceName:c.instanceName,media:g}),Sf&&!c.playlistOpened&&(Sf=!1,U.show(),c.playlistOpened=!0),n.removeClass("mvp-theater"),jb()):(c.theaterElement&&k(c.theaterElement).addClass(c.theaterElementClass),
k(q).trigger("beforeTheaterEnter",{instance:q,instanceName:c.instanceName,media:g}),c.hidePlaylistOnTheaterEnter&&c.playlistOpened&&(Sf=!0,U.hide(),c.playlistOpened=!1),n.addClass("mvp-theater"),jb(),setTimeout(function(){jb()},250),c.focusVideoInTheater&&(a=K.offset().top,k("html,body").animate({scrollTop:a},500))),ue=!ue;else if(a.hasClass("mvp-share-item")){if(!l)return!1;He&&He.share(a.attr("data-type").toLowerCase(),g,q.getCurrentMediaUrl())}}function Bi(a){a.preventDefault();if(!x||c.disableVideoSkip)return!1;
a=k(a.currentTarget);Tf=!0;g&&yc();a=a.attr("data-id");L.processPlaylistRequest(a);k(q).trigger("clickPlaylistItem",{instance:q,instanceName:c.instanceName});"outer"==F?(a=K.offset().top,Ra.scrollTop()>a&&k("html,body").animate({scrollTop:a},500)):za&&U.hasClass("mvp-playlist-holder-bottom")&&(a=K.offset().top,Ra.scrollTop()>a&&k("html,body").animate({scrollTop:a},500))}function Ci(a){a.preventDefault();if(!x)return!1;a=k(a.currentTarget);var b=a.attr("data-id");b=ka[b].data;!za&&b.hoverPreview&&
(b=a.find(".mvp-thumbimg"),b.attr("data-src",b.attr("src")).attr("src",g.hoverPreview));if(ua&&ua.is(a))return!1;a.addClass("mvp-playlist-item-selected")}function Di(a){a.preventDefault();if(!x)return!1;a=k(a.currentTarget);var b=a.attr("data-id");b=ka[b].data;!za&&b.hoverPreview&&(b=a.find(".mvp-thumbimg"),b.attr("src",b.attr("data-src")));if(ua&&ua.is(a))return!1;a.removeClass("mvp-playlist-item-selected")}function Uf(){ua.removeClass("mvp-playlist-item-selected");k(q).trigger("playlistItemEnabled",
{instance:q,instanceName:c.instanceName});ua=null}function Ei(){ua&&Uf();ua=M.children(".mvp-playlist-item").eq(wb);if(ua.length){ua.addClass("mvp-playlist-item-selected");if(cb&&0<Q){if(!Tf&&("buttons"==xb||"scroll"==xb))if(nb)nb.scrollTo(ua);else var a=setInterval(function(){nb&&(clearInterval(a),nb.scrollTo(ua))},100);Tf=!1}k(q).trigger("playlistItemDisabled",{instance:q,instanceName:c.instanceName})}}function eh(a,b){var d=L.getNextCounter(b);if("undefined"!==typeof d){if(d=ka[d].data,d.thumb||
d.title)d.thumb?Vf.css({"background-image":"url("+encodeURI(d.thumb)+")",display:"block"}):Vf.css("display","none"),d.title?Wf.html(d.title):Wf.html(""),d.duration?Xf.html(MVPUtils.formatTime(d.duration)):Xf.html("")}else return!1;var e=(ia.hasClass(c.minimizeClass)?ia:Hb?ia:n)[0].getBoundingClientRect(),f=a[0].getBoundingClientRect(),m=Fi[0].getBoundingClientRect();d=Fa.hasClass("mvp-upnext-l-side")?1==b?parseInt(f.left-e.left-Fa.width()-10):parseInt(f.left-e.left+f.width+10):Fa.hasClass("mvp-upnext-l-center")?
parseInt(f.left-e.left-Fa.width()/2+f.width/2):parseInt(f.left-e.left);e=Fa.hasClass("mvp-upnext-t-center")?parseInt(f.top-e.top+f.height/2-Fa.height()/2):parseInt(m.top-e.top-Fa.height()-10);Fa.addClass("mvp-upnext-wrap2-visible").css({left:d+"px",top:e+"px"})}function Gi(){l&&(R||"youtube"==l&&"default"==c.youtubePlayerType||"vimeo"==l&&"default"==sa||"custom"==l||(zc=window.setTimeout(function(){fa&&(Ua.one("transitionend",function(){db=!0}).removeClass("mvp-player-controls-visible"),oa&&Ia.removeClass("mvp-subtitle-visible"),
"fullscreen"==ta&&(document.body.style.cursor="none"),ba.hide(),g.previewSeek&&Yb.hide(),Yc.css("opacity",0),lb&&ub.removeClass("mvp-holder-visible"))},c.idleTimeout)))}function Yf(a){!l||R||"youtube"==l&&"default"==c.youtubePlayerType||"vimeo"==l&&"default"==sa||"custom"==l||(zc&&clearTimeout(zc),S&&db&&(Ua.one("transitionend",function(){db=!1}).addClass("mvp-player-controls-visible"),oa&&Ia.addClass("mvp-subtitle-visible"),lb&&ub.addClass("mvp-holder-visible"),"fullscreen"==ta&&(document.body.style.cursor=
"default")),fa&&Gi())}function Pf(a){if("undefined"!==typeof a){if(Jb&&1==a||!Jb&&0==a)return!1;Jb=!a}Jb?(Hd.one("transitionend",function(){Hd.css("display","none");Jb=!1}).removeClass("mvp-holder-visible"),yb&&(q.playMedia(),yb=!1)):(fa&&(q.pauseMedia(),yb=!0),Hd.css("display","block"),setTimeout(function(){Hd.addClass("mvp-holder-visible");Jb=!0},20))}function Qf(a){if("undefined"!==typeof a){if(Kb&&1==a||!Kb&&0==a)return!1;Kb=!a}Kb?(Id.one("transitionend",function(){Id.css("display","none");Kb=
!1}).removeClass("mvp-holder-visible"),yb&&(q.playMedia(),yb=!1)):(fa&&(q.pauseMedia(),yb=!0),Id.css("display","block"),setTimeout(function(){Id.addClass("mvp-holder-visible");Kb=!0},20))}function Zc(a){Ie?(Jd.one("transitionend",function(){Jd.css("display","none");Ie=!1}).removeClass("mvp-holder-visible"),yb&&(q.playMedia(),yb=!1)):(k(q).trigger("beforeLoginScreen",{instance:q,instanceName:c.instanceName,media:g}),fa&&(q.pauseMedia(),yb=!0),Jd="download"==a?fh:gh,Jd.css("display","block"),setTimeout(function(){Jd.addClass("mvp-holder-visible");
Ie=!0},20))}function Of(a){if("undefined"!==typeof a){if(bd&&1==a||!bd&&0==a)return!1;bd=!a}bd?Je.one("transitionend",function(){Je.css("display","none");bd=!1}).removeClass("mvp-holder-visible"):(Je.css("display","block"),setTimeout(function(){Je.addClass("mvp-holder-visible");bd=!0},20))}function hh(a){Ga=!0;P.show();Ac&&Ke();var b=Zf.length?Zf.find(a):k(a);if(0==b.length)return alert("Failed playlist selection! Playlist - "+a+" does not exist. Check activePlaylist option in settings!"),!1;Lb=void 0!=
b.attr("data-playlist-id")?b.attr("data-playlist-id"):null;cd=a;k(q).trigger("playlistStartLoad",{instance:q,instanceName:c.instanceName});dd=-1;la=[];Aa=[];b.find(".mvp-global-playlist-data").length&&(G=b.find(".mvp-global-playlist-data").css("display","none").clone().prependTo(M),G.find(".mvp-ad-section").length&&(Le=G.find(".mvp-ad-section")),G.find(".mvp-annotation-section").length&&(Me=G.find(".mvp-annotation-section")),void 0!=G.attr("data-pwd")&&(Ne=G.attr("data-pwd")),void 0==G.attr("data-start")||
MVPUtils.isEmpty(G.attr("data-start"))||(Oe=Number(G.attr("data-start"))),void 0==G.attr("data-end")||MVPUtils.isEmpty(G.attr("data-end"))||(Pe=Number(G.attr("data-end"))),void 0==G.attr("data-playback-rate")||MVPUtils.isEmpty(G.attr("data-playback-rate"))||(Qe=Number(G.attr("data-playback-rate"))),void 0!=G.attr("data-lock-time")&&(Re=Number(G.attr("data-lock-time"))),void 0==G.attr("data-lock-video-user-roles")||MVPUtils.isEmpty(G.attr("data-lock-video-user-roles"))||(Se=G.attr("data-lock-video-user-roles").split(",")));
b.children(".mvp-playlist-item").each(function(){Aa.push(Kd(k(this)))});Q=Aa.length;va()}function ed(a){if("youtube"==a)if("undefined"===typeof MVPYoutubeLoader){var b=document.createElement("script");b.type="text/javascript";b.src=MVPUtils.qualifyURL(c.sourcePath+c.youtubeLoader_js);b.onload=b.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||ed(a)};b.onerror=function(){alert("Error loading "+this.src)};var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(b,
d)}else Va=new MVPYoutubeLoader(c),k(Va).on("MVPYoutubeLoader.END_LOAD",function(e,f){var m,h=f.data.length;for(m=0;m<h;m++){var t=f.data[m];la.push(t)}Wa=f.nextPageToken;Ja?Ld():va()}),ac&&Wa&&(Va.setDataFromCache(Kd(k(ac))),Md=!1);else"vimeo"==a&&("undefined"===typeof MVPVimeoLoader?(b=document.createElement("script"),b.type="text/javascript",b.src=MVPUtils.qualifyURL(c.sourcePath+c.vimeoLoader_js),b.onload=b.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||ed(a)},b.onerror=
function(){alert("Error loading "+this.src)},d=document.getElementsByTagName("script")[0],d.parentNode.insertBefore(b,d)):(Ka=new MVPVimeoLoader(c),k(Ka).on("MVPVimeoLoader.END_LOAD",function(e,f){var m,h=f.data.length;for(m=0;m<h;m++){var t=f.data[m];la.push(t)}Wa=f.nextPageToken;Ja?Ld():va()}),ac&&Wa&&(Ka.setDataFromCache(Kd(k(ac))),Md=!1)))}function va(){c.hidePlayerUntilPlaylistStartLoad&&(c.hidePlayerUntilPlaylistStartLoad=!1,n.css("display","block").removeClass("mvp-player-force-hidden"),jb(),
setTimeout(function(){ia.css("opacity",1)},50));dd++;if(dd>Q-1)Ld();else{var a=Aa[dd],b=a.type;if(RegExp(/^youtube/).test(b))if(a.noApi)la.push(a),va();else if(Mb="youtube",a.loadMore&&(eb=!0),Va)Va.setData(a);else{ed("youtube");var d=setInterval(function(){Va&&(clearInterval(d),Va.setData(a))},100)}else RegExp(/^vimeo/).test(b)?a.noApi?(la.push(a),va()):(Mb="vimeo",a.loadMore&&(eb=!0),Ka?Ka.setData(a):(ed("vimeo"),d=setInterval(function(){Ka&&(clearInterval(d),Ka.setData(a))},100))):RegExp(/^folder/).test(b)?
Hi(a):RegExp(/^audio|^video|^image|^hls|^dash|^custom/).test(b)?(la.push(a),va()):"xml"==b?Ii(a):"json"==b&&Ji(a)}}function Ii(a){k.ajax({type:"GET",url:a.path,dataType:"html"}).done(function(b){k(b).children(".mvp-playlist-item").each(function(){Aa.push(Kd(k(this)))});Q=Aa.length;va()}).fail(function(b,d,e){console.log(b,d,e);va()})}function Ji(a){k.ajax({type:"GET",url:a.path,dataType:"json"}).done(function(b){dd=-1;la=[];Aa=[];Ac=M;Array.isArray(b)?Aa=b:Aa.push(b);Q=Aa.length;va()}).fail(function(b,
d,e){console.log("Error processJson: "+b,d,e);va()})}function Hi(a){if("file:"==window.location.protocol)return console.log("Reading files from folders locally is not possible! This requires online server connection."),va(),!1;var b=a.type;if("folder_video"==b)var d=["mp4"];else"folder_audio"==b?(a.id3&&($f=Bc=la.length-1),d=["mp3","wav"]):"folder_image"==b&&(d=["jpg","jpeg","png","gif"]);k.ajax({type:"GET",url:c.sourcePath+"includes/folder_parser.php",data:{type:d,dir:a.path,limit:a.limit||100},
dataType:"json"}).done(function(e){a.sort&&("filename-asc"==a.sort?MVPUtils.keysrt(e,"filename"):"filename-desc"==a.sort?MVPUtils.keysrt(e,"filename",!0):"date-asc"==a.sort?MVPUtils.keysrt(e,"filemtime"):"date-desc"==a.sort&&MVPUtils.keysrt(e,"filemtime",!0));var f,m=e.length;for(f=0;f<m;f++){var h=e[f];if("folder_audio"==b){if(/mp3|wav/.test(h.basename)){var t=k.extend(!0,{},a);t.type="audio";var z=h.fullpath;"mp3"==h.extension?t.path=[{quality:"default",mp3:z}]:"wav"==h.extension&&(t.path=[{quality:"default",
wav:z}]);c.requirePosterFromFolder&&(t.poster=z.substr(0,z.lastIndexOf("/")+1)+"poster/"+h.filename+".jpg");c.requireThumbnailsFromFolder&&!t.thumb&&(t.thumb=z.substr(0,z.lastIndexOf("/")+1)+"thumb/"+h.filename+".jpg");t.share||(t.share=z);t.title||(t.title=h.filename);la.push(t);Bc++}}else"folder_video"==b?/mp4/.test(h.basename)&&(t=k.extend(!0,{},a),t.type="video",z=h.fullpath,t.path=[{quality:"default",mp4:z}],c.requirePosterFromFolder&&(t.poster=z.substr(0,z.lastIndexOf("/")+1)+"poster/"+h.filename+
".jpg"),c.requireThumbnailsFromFolder&&!t.thumb&&(t.thumb=z.substr(0,z.lastIndexOf("/")+1)+"thumb/"+h.filename+".jpg"),t.share||(t.share=z),t.title||(t.title=h.filename),la.push(t)):"folder_image"==b&&/jpg|jpeg|png|gif/.test(h.basename)&&(t=k.extend(!0,{},a),t.type="image",z=h.fullpath,t.path=z,c.requireThumbnailsFromFolder&&!t.thumb&&(t.thumb=z.substr(0,z.lastIndexOf("/")+1)+"thumb/"+h.filename+".jpg"),t.share||(t.share=z),t.title||(t.title=h.filename),la.push(t))}"folder_audio"==b?a.id3?Te():va():
va()}).fail(function(e,f,m){console.log(e,f,m);va()})}function Te(){if("undefined"===typeof jsmediatags){var a=document.createElement("script");a.type="text/javascript";var b=MVPUtils.relativePath(c.mediatags_js)?c.mediatags_js:MVPUtils.qualifyURL(c.sourcePath+c.mediatags_js);a.src=b;a.onload=a.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||Te()};a.onerror=function(){alert("Error loading "+this.src)};b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,
b)}else{var d=la[Bc];jsmediatags.read(d.path[0].mp3||d.path[0].wav,{onSuccess:function(e){var f=e.tags;e=f.picture;f.artist&&(d.artist=f.artist);f.title&&(d.title=f.title);f.album&&(d.album=f.album);if(e){f="";var m,h=e.data.length;for(m=0;m<h;m++)f+=String.fromCharCode(e.data[m]);d.thumb="data:"+e.format+";base64,"+window.btoa(f)}Bc--;Bc>$f?Te():va()},onError:function(e){console.log("ID3 error: ",e.type,e.info);Bc--;Bc>$f?Te():va()}})}}function Ld(){var a,b=Cc?ob:ka.length,d=la.length,e,f=0;ag=[];
for(a=0;a<d;a++){var m=a+b;Cc&&f++;var h=bg?la[a].data:la[a];var t=h.type;if(cb){h.origclasses||(h.origclasses="mvp-playlist-item");var z=k('<div class="'+h.origclasses+'"/>').attr("data-type",t);delete h.origclasses;if(-1!=Ue.indexOf("thumb")){var ha=null;if("youtube"==h.type)h.thumbnails&&(k.each(h.thumbnails,function(Ki,Li){if(Ki==c.youtubeThumbSize)return ha=Li.url,!1}),ha||(h.thumbnails.medium?ha=h.thumbnails.medium.url:h.thumbnails.high?ha=h.thumbnails.high.url:h.thumbnails.standard&&(ha=h.thumbnails.standard.url)),
c.showControlsBeforeStart&&!h.poster&&(h.thumbnails.maxres?h.poster=h.thumbnails.maxres.url:h.thumbnails.high?h.poster=h.thumbnails.high.url:h.thumbnails.standard&&(h.poster=h.thumbnails.standard.url)));else if("vimeo"==h.type&&h.pictures){var aa=h.pictures.sizes;var Nd=aa.length;for(e=0;e<Nd;e++)if(aa[e].width==Mi){ha=aa[e].link;break}if(!ha)for(e=0;e<Nd;e++)if(295==aa[e].width||640==aa[e].width){ha=aa[e].link;break}if(c.showControlsBeforeStart&&!h.poster)for(e=0;e<Nd;e++)if(1280==aa[e].width||1920==
aa[e].width){h.poster=aa[e].link;break}}ha||(ha=h.thumb||h.thumbDefault);ha&&(aa=k("<div/>").addClass("mvp-playlist-thumb").appendTo(z),e=h.alt?h.alt:h.title?h.title.replace(/"/g,"'"):"image",k(new Image).addClass("mvp-thumbimg").appendTo(aa).attr({src:ha,alt:e}),h.thumb=ha,-1<Ue.indexOf("duration")&&(h.duration?k('<span class="mvp-playlist-duration">'+MVPUtils.formatTime(h.duration)+"</span>").appendTo(aa):k('<span class="mvp-playlist-duration mvp-hidden"></span>').appendTo(aa)),c.displayWatchedPercentage&&
k('<div class="mvp-media-watched-bg mvp-hidden"><div class="mvp-media-watched-progress"></div></div>').appendTo(aa))}if(h.title||h.description||h.publishedAt)for(aa=k('<div class="mvp-playlist-info"></div>').appendTo(z),Nd=Ue.length,e=0;e<Nd;e++){var wa=Ue[e];"title"==wa&&h.title?(wa=h.title.replace(/"/g,"'"),z.attr("title",wa),k('<span class="mvp-playlist-title">'+wa+"</span>").appendTo(aa)):"date"==wa&&h.date?(wa=new Date(h.date),wa=wa.getMonth()+1+"/"+wa.getDate()+"/"+wa.getFullYear(),k('<span class="mvp-playlist-published-date">'+
wa+"</span>").appendTo(aa)):"description"==wa&&h.description&&(wa=h.description.replace(/"/g,"'"),z.attr("data-description",wa),0<c.limitDescriptionText&&wa.length>c.limitDescriptionText&&(wa=wa.substr(0,c.limitDescriptionText)+"..."),k('<span class="mvp-playlist-description">'+wa+"</span>").appendTo(aa))}void 0!=h.mediaId&&z.attr("data-media-id",h.mediaId);h.title&&(e=h.title.replace(/['"\|]/g,""),z.attr("data-safe-title",e),h.safeTitle=e);h.category&&z.attr("data-category",h.category);h.tag&&z.attr("data-tag",
h.tag);h.customContent&&(z.append(h.customContent),delete h.customContent);if(Cc){ih?ih.after(z):fd?z.appendTo(M):M.children("div").eq(ob).before(z);var ih=z}else z.appendTo(M);if(cb&&c.addPlaylistEvents&&(z.on("click",Bi),!za))z.on("mouseenter",Ci).on("mouseleave",Di)}else c.useStatistics&&void 0!=h.mediaId&&h.title&&(e=h.title.replace(/['"\|]/g,""),h.safeTitle=e);void 0!=Lb&&(h.playlistId=Lb);ka.splice(m,0,{id:m,type:t,data:h});ag.push({id:m,type:t,data:h})}Ac=M;jh();Cc?(m=L.getCounter(),L.setPlaylistItems(Q,
!1),ob<=m&&(fd||L.reSetCounter(m+f)),Ve&&!za&&(ma=!0),Ve&&(bc=!1,L.setCounter(ob,!1))):L.setPlaylistItems(Q);kh()}function jh(){Q=ka.length;if(cb){var a=0;M.find(".mvp-playlist-item").each(function(){k(this).attr("data-id",a);ka[a].id=a;a++})}else for(a=0;a<Q;a++)ka[a].id=a}function kh(){Ga=!1;if(!x){x=!0;if(G&&(cc=parseInt(G.attr("data-add-more-limit"),10),gd=parseInt(G.attr("data-add-more-num-results"),10),dc=parseInt(G.attr("data-add-more-offset"),10),We=G.attr("data-add-more-sort-order"),Xe=G.attr("data-add-more-sort-direction"),
Ye=G.attr("data-encrypt-media-paths"),void 0!=G.attr("data-taxonomy")&&(Ze=G.attr("data-taxonomy")),void 0!=G.attr("data-category")&&($e=G.attr("data-category")),void 0!=G.attr("data-tag")&&(af=G.attr("data-tag")),void 0!=G.attr("data-match")&&(bf=G.attr("data-match")),void 0!=G.attr("data-add-more-on-total-scroll")&&(Nb=!0),void 0!=G.attr("data-use-pagination")&&(Dc=Math.ceil(gd/cc),gd>cc))){Xa=0;cg(Xa);var a;for(a=0;a<Dc;a++){var b=0==a?{page:0}:{page:null};hd.push(b)}lh(Xa)}cb&&""!=xb&&!mh&&("undefined"===
typeof MVPPlaylistNavigation?(a=document.createElement("script"),a.type="text/javascript",a.src=MVPUtils.qualifyURL(c.sourcePath+c.playlist_navigation_js),a.onload=a.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||nh()},a.onerror=function(){alert("Error loading "+this.src)},b=document.getElementsByTagName("script")[0],b.parentNode.insertBefore(a,b)):nh(),mh=!0);K.on("mousemove mousedown keypress DOMMouseScroll mousewheel touchmove MSPointerMove",Yf);k(q).trigger("setupDone",
{instance:q,instanceName:c.instanceName});P.hide();c.createPlayer&&P.appendTo(K);c.hidePlayerUntilPlaylistStartLoad||(jb(),ia.css("opacity",1));c.minimizeOnScroll&&(oh=MVPUtils.getElementOffsetTop(n[0]),Ra.on(ch,function(){id||(id=!0,c.minimizeOnScrollOnlyIfPlaying?fa&&Qc():Qc(),setTimeout(function(){id=!1},100))}))}Ec&&!Md&&ph();if(cb&&0<Q){c.breakPointArr&&(qh(),dg=ec,M.find(".mvp-playlist-item").each(function(){if(0<La){var f=100/ec;k(this).css({marginLeft:0,marginTop:0,marginRight:La+"px",marginBottom:La+
"px",width:"calc("+f+"% - "+La+"px)"})}else k(this).css({marginLeft:0,marginTop:0,marginRight:La+"px",marginBottom:La+"px",width:100/ec+"%"})}));"h"==jd&&(console.log(Q,c.pi_size),M.width(Q*c.pi_size));var d=[];M.find(".mvp-thumbimg:not(.mvp-visible)").each(function(){d.push(k(this))});var e=0;a=d.length;for(b=0;b<a;b++)setTimeout(function(){clearTimeout(this);d[e].addClass("mvp-visible");e++},50+50*b);c.truncatePlaylistDescription&&("undefined"!==typeof k.fn.dotdotdot?(c.playlistOpened||U.addClass("mvp-force-playlist-show"),
M.find(".mvp-playlist-info:not(.ddd-truncated)").each(function(){k(this).dotdotdot({watch:c.truncateWatch})}),U.removeClass("mvp-force-playlist-show")):(a=document.createElement("script"),a.type="text/javascript",b=MVPUtils.relativePath(c.dotdot_js)?c.dotdot_js:MVPUtils.qualifyURL(c.sourcePath+c.dotdot_js),a.src=b,a.onload=a.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||(c.playlistOpened||U.addClass("mvp-force-playlist-show"),M.find(".mvp-playlist-info:not(.ddd-truncated)").each(function(){k(this).dotdotdot({watch:c.truncateWatch})}),
U.removeClass("mvp-force-playlist-show"))},a.onerror=function(){alert("Error loading "+this.src)},b=document.getElementsByTagName("script")[0],b.parentNode.insertBefore(a,b)));c.displayWatchedPercentage&&cb&&Ni()}if(!eg&&!Cc&&0<Q){if(void 0!=c.mediaId){c.mediaTitle?(a=M.find(".mvp-playlist-item[data-media-id="+c.mediaId+'][title="'+c.mediaTitle+'"]'),0==a.length&&(a=M.find(".mvp-playlist-item[data-media-id="+c.mediaId+"]")),delete c.mediaTitle):a=M.find(".mvp-playlist-item[data-media-id="+c.mediaId+
"]");a=M.children(".mvp-playlist-item").index(a);if(void 0==a||-1==a)return alert("No media with ID to load! LoadMedia failed."),!1;delete c.mediaId;L.processPlaylistRequest(a)}else a=c.activeItem,a>Q-1&&(a=Q-1),-1<a&&L.setCounter(a,!1);eg=!0}Cc=!1;P.hide();Ja&&(Ja=!1,"buttons"==xb&&nb&&nb.showButtons("forward"));fb&&(eb?Wa?fb.css("opacity",1):(fb.remove(),fb=null,eb=!1):Nb?0<gd&&(gd>dc?fb.css("opacity",1):(fb.remove(),fb=null,Nb=!1)):(fb.remove(),fb=null));k(q).trigger("playlistEndLoad",{instance:q,
instanceName:c.instanceName,loadMoreOnTotalScroll:eb,addMoreOnTotalScroll:Nb})}function qh(){var a=n.width(),b,d=c.breakPointArr.length;for(b=0;b<d;b++){var e=c.breakPointArr[b];a>e.width&&(ec=e.column,La=e.gutter)}fg.css({paddingTop:La+"px",paddingLeft:La+"px"})}function nh(){c.parent=q;c.wrapper=n;c.playlistHolder=U;c.playlistInner=fg;c.playlistContent=M;nb=new MVPPlaylistNavigation(c)}function cf(){if(MVPUtils.isScrolledIntoView(n[0]))ma=Fc=!0,q.playMedia();else Ra.on(gg,function(){id||(id=!0,
MVPUtils.isScrolledIntoView(n[0])?(ma=Fc=!0,q.playMedia()):q.pauseMedia(),setTimeout(function(){id=!1},250))})}function Qc(a){"fullscreen"!=ta&&(!a&&MVPUtils.getScrollTop()>oh?ia.hasClass(c.minimizeClass)||(ia.addClass(c.minimizeClass),c.hidePlaylistOnMinimize&&c.playlistOpened&&(U.hide(),c.playlistOpened=!1)):ia.hasClass(c.minimizeClass)&&(ia.removeClass(c.minimizeClass),c.hidePlaylistOnMinimize&&!c.playlistOpened&&(U.show(),c.playlistOpened=!0)),jb())}function Od(){df=!1;"youtube_single"==g.type?
g.type="youtube":"vimeo_single"==g.type&&(g.type="vimeo");l=g.type;"video_360"==l?(l="video",O="video_360"):"image_360"==l&&(l="image",O="image_360");"audio"==l||"video"==l?(Mf(),c.hideQualityMenuOnSingleQuality&&1==Pd.length||Pd.length&&Za(Pd,g.quality)):T=g.path;-1!=T.indexOf("ebsfm:")&&(T=atob(T.substr(6)));"hls"==l?(l="video",O="hls"):"dash"==l&&(l="video",O="dash");xc=!1;R||c.skipPoster||("audio"==l?(!Qd||c.displayPosterOnMobile)&&g.poster&&(xc=!0):"video"==l||"youtube"==l||"vimeo"==l?g.poster&&
!c.autoPlayInViewport&&(xc=!0):"custom"==l&&g.poster&&(xc=!0));gb=void 0!=g.aspectRatio?g.aspectRatio:c.aspectRatio;g.pwd?($b.css("display","block"),setTimeout(function(){$b.addClass("mvp-holder-visible")},20)):"0"!=g.lockTime||$c?xc?ad():ja():Zc("watch");"lightbox"!=c.playerType||Hb||(Hb=!0,Ba.css("display","block"),jb(),1!=Ba.css("opacity")&&setTimeout(function(){clearTimeout(this);Ba.css("opacity",1)},50));if(c.scrollToPlayer&&"lightbox"!=c.playerType){delete c.scrollToPlayer;var a=K.offset().top;
k("html,body").animate({scrollTop:a},500)}}function Mf(){Pd=[];var a,b=g.path.length;var d=g.quality;d||(d=g.path[0].quality);g.quality=d;for(a=0;a<b;a++){var e=g.path[a];Pd.push(e.quality);var f;a:for(f in e)if(e[f]==d){"audio"==l?rh&&e.wav?T=e.wav:rh&&"wav"==e.ext?T=e.src:sh&&e.mp3?T=e.mp3:sh&&"mp3"==e.ext&&(T=e.src):"video"==l&&(th&&e.mp4?T=e.mp4:th&&"mp4"==e.ext&&(T=e.src));break a}}-1!=T.indexOf("ebsfm:")&&(T=atob(T.substr(6)))}function ad(){na||(na=k('<div class="mvp-poster-holder"/>').appendTo(ea));
"audio"==l?(bc=!0,k(new Image).addClass("mvp-media").appendTo(na.empty().show()).on("load",function(){X=k(this);MVPAspectRatio.resizeMedia("image",gb,K,X);X.addClass("mvp-visible");c.displayPosterOnMobile||(ma?ja():(Y.show(),R&&pb.show()))}).on("error",function(b){console.log(b)}).attr({src:g.poster,alt:g.title})):"video"==l||"youtube"==l||"vimeo"==l?(Ua.css("display","none").removeClass("mvp-player-controls-visible"),bc=db=!0,k(new Image).addClass("mvp-media").appendTo(na.empty().show()).on("load",
function(){X=k(this);MVPAspectRatio.resizeMedia("image",gb,K,X);X.addClass("mvp-visible");P.hide();c.displayPosterOnMobile||(Y.show(),R&&pb.show())}).on("error",function(b){console.log(b)}).attr({src:g.poster,alt:g.title})):"custom"==l&&(Ua.css("display","none").removeClass("mvp-player-controls-visible"),bc=db=!0,k(new Image).addClass("mvp-media").appendTo(na.empty().show()).on("load",function(){X=k(this);MVPAspectRatio.resizeMedia("image",gb,K,X);X.addClass("mvp-visible");P.hide();Y.show()}).on("error",
function(b){console.log(b)}).attr({src:g.poster,alt:g.title}));if(c.showControlsBeforeStart&&(df||uh(),g.duration&&!R)){Rd||(c.createAdMarkers&&ab.length&&ah(g.duration),Rd=!0);fc.html(MVPUtils.formatTime(g.duration));Z(g.playbackRate||1);var a=setInterval(function(){Be&&Xc&&Fe&&(clearInterval(a),Ua.css("display","block"),Ua.one("transitionend",function(){db=!1}).addClass("mvp-player-controls-visible"),lb&&ub.addClass("mvp-holder-visible"))},100)}}function ja(){if("video_360"==O||"image_360"==O){if("undefined"===
typeof THREE){var a=document.createElement("script");a.type="text/javascript";var b=MVPUtils.relativePath(c.three_js)?c.three_js:MVPUtils.qualifyURL(c.sourcePath+c.three_js);a.src=b;a.onload=a.onreadystatechange=function(){if(!this.readyState||"complete"==this.readyState)if("undefined"===typeof THREE.OrbitControls){var m=document.createElement("script");m.type="text/javascript";var h=MVPUtils.relativePath(c.orbitControls_js)?c.orbitControls_js:MVPUtils.qualifyURL(c.sourcePath+c.orbitControls_js);
m.src=h;m.onload=m.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||ja()};m.onerror=function(){alert("Error loading "+this.src)};h=document.getElementsByTagName("script")[0];h.parentNode.insertBefore(m,h)}else ja()};a.onerror=function(){alert("Error loading "+this.src)};b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b);return}if("undefined"===typeof THREE.OrbitControls){a=document.createElement("script");a.type="text/javascript";b=MVPUtils.relativePath(c.orbitControls_js)?
c.orbitControls_js:MVPUtils.qualifyURL(c.sourcePath+c.orbitControls_js);a.src=b;a.onload=a.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||ja()};a.onerror=function(){alert("Error loading "+this.src)};b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b);return}}else if("hls"==O){if(!vh){"undefined"===typeof Hls?(a=document.createElement("script"),a.type="text/javascript",b=MVPUtils.relativePath(c.hls_js)?c.hls_js:MVPUtils.qualifyURL(c.sourcePath+c.hls_js),
a.src=b,a.onload=a.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||(wh(),ja())},a.onerror=function(){alert("Error loading "+this.src)},b=document.getElementsByTagName("script")[0],b.parentNode.insertBefore(a,b)):(wh(),ja());return}}else if("dash"==O){if(!xh){"undefined"===typeof dashjs?(a=document.createElement("script"),a.type="text/javascript",b=MVPUtils.relativePath(c.dash_js)?c.dash_js:MVPUtils.qualifyURL(c.sourcePath+c.dash_js),a.src=b,a.onload=a.onreadystatechange=
function(){this.readyState&&"complete"!=this.readyState||(yh(),ja())},a.onerror=function(){alert("Error loading "+this.src)},b=document.getElementsByTagName("script")[0],b.parentNode.insertBefore(a,b)):(yh(),ja());return}}else if("audio"==l&&Qd&&!c.displayPosterOnMobile&&"undefined"===typeof MVPAudioEqualizer){Sd||(Sd=k('<canvas class="mvp-canvas-audio mvp-media"/>').prependTo(ea));a=document.createElement("script");a.type="text/javascript";a.src=MVPUtils.qualifyURL(c.sourcePath+c.equalizer_js);a.onload=
a.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||(zb=new MVPAudioEqualizer({holder:ea,canvas:Sd[0]}),ja())};a.onerror=function(){alert("Error loading "+this.src)};b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b);return}bc&&(ca=g.start||0,bc=!1);Td&&!R&&(ca=Td,Td=null);if(void 0!=c.playbackPositionTime&&!R&&(ca=c.playbackPositionTime,delete c.playbackPositionTime,c.useResumeScreen)){Of();return}("audio"==l||"video"==l||"youtube"==l&&"chromeless"==
c.youtubePlayerType&&ma&&zh||"vimeo"==l&&"chromeless"==sa&&ma&&Ah)&&P.show();if("audio"==l)Bh||(Gc=k(document.createElement("audio")).attr("preload",c.preload),w=Gc[0],Bh=!0),hg=!1,w.src=T,Gc.on("ended",function(){gc()}).on("loadedmetadata",function(){}).on("canplay",function(){if(!hg){hg=!0;Oa();g.playbackRate&&(w.playbackRate=Number(g.playbackRate));Z(w.playbackRate);ca?w.currentTime=ca:g.start&&(w.currentTime=g.start);if(ma||null!=ca){var m=w.play();void 0!==m&&m.then(function(){})["catch"](function(h){Y.show();
P.hide()})}else Y.show(),P.hide();R&&pb.show();ca=null;c.autoPlayInViewport&&!Fc&&cf()}}).on("play",function(){ef()}).on("pause",function(){ff()}).on("ratechange",function(){Z(w.playbackRate)}).on("error",function(m){k(q).trigger("mediaError",{instance:q,instanceName:c.instanceName,media:g})}),ma&&w.load();else if("video"==l){g.posterFrameTime&&(T+="#t="+g.posterFrameTime);gf=!1;Ch?Ob.show():(Ob||(Ob=k('<div class="mvp-video-holder"/>').prependTo(ea)),a=" playsinline",c.useMobileNativePlayer&&(a=
""),a='<video class="mvp-media" preload="'+c.preload+'"'+a+">",a+="</video>",Ob.show().html(a));Ma=Ob.find(".mvp-media");r=Ma[0];Ab&&"video_360"==O&&("file:"==window.location.protocol&&console.log("Playing 360 videos requires online server connection!"),Dh||(hc=new THREE.WebGLRenderer({antialias:!0}),hc.setSize(640,360),hc.domElement.className+="mvp-canvas-video mvp-media",ea.prepend(k(hc.domElement)),Pb=ea.find(".mvp-canvas-video"),kd=new THREE.Texture(r),kd.minFilter=THREE.LinearFilter,kd.magFilter=
THREE.LinearFilter,kd.format=THREE.RGBFormat,ig=new THREE.Scene,a=new THREE.SphereGeometry(500,60,40),a.scale(-1,1,1),b=new THREE.MeshBasicMaterial({map:kd}),a=new THREE.Mesh(a,b),ig.add(a),hf||(hf=!0,pa=new THREE.PerspectiveCamera(90,640/360,.1,1E4),pa.position.x+=.1,Qb=new THREE.OrbitControls(pa),Qb.enableZoom=!1),Dh=!0));Ma.on("ended",function(){gc()}).on("loadedmetadata",function(){Ab&&"video_360"==O||MVPAspectRatio.resizeMedia("video",gb,K,Ma);Ma.addClass("mvp-visible");setTimeout(function(){gf||
Ma.trigger("canplay")},1E3)}).on("canplay",function(){if(!gf){gf=!0;c.selectorInit&&!bb&&(J=mb,bb=!0);Oa();g.playbackRate&&(r.playbackRate=Number(g.playbackRate));Z(r.playbackRate);ca?r.currentTime=ca:g.start&&(r.currentTime=g.start);if(ma||null!=ca){var m=r.play();void 0!==m&&m.then(function(){})["catch"](function(h){Y.show();P.hide()})}else Y.show(),P.hide();R&&pb.show();ca=null;c.autoPlayInViewport&&!Fc&&cf();(dh||r.webkitSupportsPresentationMode&&"function"===typeof r.webkitSetPresentationMode)&&
ld.show()}}).on("canplaythrough",function(){Ab&&"video_360"==O||"hls"==O&&MVPAspectRatio.resizeMedia("video",gb,K,Ma)}).on("waiting",function(){P.show()}).on("playing",function(){P.hide()}).on("play",function(){ef()}).on("pause",function(){ff()}).on("seeking",function(){Bb=!1;P.show()}).on("seeked",function(){P.hide();Ab&&"video_360"==O&&(Bb=!0,Na=requestAnimationFrame(jg))}).on("ratechange",function(){Z(r.playbackRate)}).on("error",function(m){switch(m.target.error.code){case m.target.error.MEDIA_ERR_ABORTED:console.log("You aborted the video playback.");
break;case m.target.error.MEDIA_ERR_NETWORK:console.log("A network error caused the video download to fail part-way.");break;case m.target.error.MEDIA_ERR_DECODE:console.log("The video playback was aborted due to a corruption problem or because the video used features your browser did not support.");break;case m.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:console.log("The video could not be loaded, either because the server or network failed or because the format is not supported.");break;default:console.log("An unknown error occurred.")}});
if("hls"==O)if(jf)W.attachMedia(r);else if("true"==r.canPlayType("application/vnd.apple.mpegurl"))r.src=T;else if(g.mp4)r.src=g.mp4,r.load();else try{r.src=T,r.load()}catch(m){alert("This browser or device does not support HLS extension. Please use mp4 video for playback!")}else"dash"==O?Eh?Fh?Ca.attachSource(T):(Ca.initialize(r,T,ma),Fh=!0):g.mp4?(r.src=g.mp4,r.load()):alert("This browser or device does not support MPEG-DASH extension. Please use mp4 video for playback!"):(r.src=T,r.load());Ch=!0}else if("image"==
l)kf||(kf=k('<div class="mvp-image-holder"/>').prependTo(ea).hide()),"image_360"==O?("file:"==window.location.protocol&&console.log("Playing 360 video and images requires online server connection!"),Gh||(Ud=new THREE.Scene,a=new THREE.SphereBufferGeometry(500,60,40),a.scale(-1,1,1),kg=new THREE.TextureLoader,lg=new THREE.MeshBasicMaterial({map:kg}),Hh=new THREE.Mesh(a,lg),Ud.add(Hh),qb=new THREE.WebGLRenderer,qb.setPixelRatio(window.devicePixelRatio),qb.setSize(640,360),qb.domElement.className+="mvp-canvas-image mvp-media",
ea.prepend(k(qb.domElement)),Vd=ea.find(".mvp-canvas-image"),hf||(hf=!0,pa=new THREE.PerspectiveCamera(90,640/360,.1,1E4),pa.position.x+=.1,Qb=new THREE.OrbitControls(pa,ea[0]),Qb.enableZoom=!1),Gh=!0),kg.load(T,function(m){Vd.show();Vd.addClass("mvp-visible");lg.map=m;m=ea.width();var h=ea.height();qb.setSize(m,h);pa.aspect=m/h;pa.updateProjectionMatrix();Qb.addEventListener("change",mg);qb.render(Ud,pa);fa=S=!0;ic&&(ic.show(),Wd=!0);ng=!0;g.duration&&(Xd=(new Date).getTime(),Rb=1E3*g.duration,Sb&&
clearTimeout(Sb),Sb=setTimeout(function(){clearTimeout(this);Jb||Kb||gc()},Rb))},function(m){},function(m){})):(P.show(),k(new Image).addClass("mvp-media").prependTo(kf.show()).on("load",function(){P.hide();md=k(this);MVPAspectRatio.resizeMedia("image",gb,K,md);md.addClass("mvp-visible");fa=S=!0;g.duration&&(Xd=(new Date).getTime(),Rb=1E3*g.duration,Sb&&clearTimeout(Sb),Sb=setTimeout(function(){clearTimeout(this);Jb||Kb||gc()},Rb))}).on("error",function(m){console.log(m)}).attr({src:T,alt:T})),R?
g.duration&&(lf.show(),Yd=og.width(),pb.find(".mvp-volume-toggle").hide(),pb.show(),xa&&clearInterval(xa),xa=setInterval(sc,250)):(Ua.css("display","block"),zc&&clearTimeout(zc),Yf());else if("youtube"==l){if(Ih)pg&&(a=0,ca?a=ca:g.start&&(a=g.start),ma?D.loadVideoById({videoId:T,startSeconds:a,endSeconds:g.end}):D.cueVideoById({videoId:T,startSeconds:a,endSeconds:g.end}));else{var d="ytplayer"+Math.floor(16777215*Math.random());Hc=k('<div class="mvp-youtube-holder"><div id="'+d+'" class="mvp-media mvp-emiframe"></div></div>').css("display",
"block").prependTo(ea);var e={height:"100%",width:"100%",playerVars:{controls:"chromeless"==c.youtubePlayerType?0:1,modestbranding:1,playsinline:c.useMobileNativePlayer?0:1,rel:0,wmode:"transparent",iv_load_policy:3,cc_load_policy:0,showinfo:0,disablekb:1,color:c.youtubePlayerColor},videoId:T,events:{onReady:Oi,onPlaybackQualityChange:Pi,onPlaybackRateChange:Qi,onStateChange:Ri,onError:Si}};c.youtubeNoCookie&&(e.host="//www.youtube-nocookie.com/");a=window.location.href.split("/");a=a[0]+"//"+a[2];
/^http/.test(a)&&(e.playerVars.origin=a);ca?e.playerVars.start=ca:g.start&&(e.playerVars.start=parseInt(g.start,10));g.end&&(e.playerVars.end=parseInt(g.end,10));window.YT||(b=document.createElement("script"),b.src=c.youtube_js,a=document.getElementsByTagName("script")[0],a.parentNode.insertBefore(b,a));var f=setInterval(function(){window.YT&&window.YT.Player&&(f&&clearInterval(f),D=new YT.Player(d,e))},100);Ih=!0}Hc.show()}else"vimeo"==l?(sa="chromeless"==c.vimeoPlayerType?g.userAccount?"basic"==
g.userAccount?"default":"chromeless":"chromeless":"default","default"==sa?Jh?(Cb=Zd,Ic=$d,y=Kh,Lh&&(Cb.show(),y.loadVideo(T),setTimeout(function(){clearTimeout(this);mf()},500))):(Zd||(Zd=k('<div class="mvp-vimeo-holder-default"/>').prependTo(ea)),$d=Mh("0"),Zd.show().append($d),Cb=Zd,Ic=$d,window.Vimeo||(b=document.createElement("script"),b.src=c.vimeo_js,a=document.getElementsByTagName("script")[0],a.parentNode.insertBefore(b,a)),f=setInterval(function(){window.Vimeo&&(f&&clearInterval(f),y=Kh=
new Vimeo.Player($d[0]),y.on("loaded",mf),y.on("play",qg),y.on("pause",Nh),y.on("ended",Oh),y.on("error",Ph),Lh=!0)},100),Jh=!0):Qh?(Cb=ae,Ic=be,y=Rh,Sh&&(Cb.show(),y.loadVideo(T),setTimeout(function(){clearTimeout(this);mf()},500))):(ae||(ae=k('<div class="mvp-vimeo-holder-chromeless"/>').prependTo(ea)),be=Mh("1"),ae.show().append(be),Cb=ae,Ic=be,window.Vimeo||(b=document.createElement("script"),b.src=c.vimeo_js,a=document.getElementsByTagName("script")[0],a.parentNode.insertBefore(b,a)),f=setInterval(function(){window.Vimeo&&
(f&&clearInterval(f),y=Rh=new Vimeo.Player(be[0]),y.on("loaded",mf),y.on("play",qg),y.on("pause",Nh),y.on("ended",Oh),y.on("error",Ph),y.on("seeking",Ti),y.on("seeked",Ui),"chromeless"==sa&&(y.on("playbackratechange",Vi),y.on("timeupdate",Wi)),Sh=!0)},100),Qh=!0)):"custom"==l&&(P.show(),ce||(ce=k('<div class="mvp-custom-holder mvp-media"/>').prependTo(ea)),ce.show().load(T,function(m,h,t){"error"==h?console.log(t.status+" "+t.statusText):"success"==h&&(ce.addClass("mvp-visible"),P.hide(),S=!0)}),
Ua.css("display","none").removeClass("mvp-player-controls-visible"),db=!0);df||rg||uh()}function uh(){rg=!0;if(R)k(q).trigger("adRequest",{instance:q,instanceName:c.instanceName,media:g});else{if(Jc){var a=0;Jc.find(".mvp-annotation").each(function(){var e=k(this).clone().attr("data-id",a).appendTo(Tb);if(e.hasClass("mvp-adsense-detail")){var f='<ins class="adsbygoogle" style="display:inline-block;';void 0!=e.attr("data-width")&&void 0!=e.attr("data-height")&&(f+="width:"+e.attr("data-width")+"px;height:"+
e.attr("data-height")+"px;");ans+='"';ans+=' data-ad-client="'+e.attr("data-ad-client")+'" data-ad-slot="'+e.attr("data-ad-slot")+'"></ins>';k(f).prependTo(e);nf=!0}else e.hasClass("mvp-adsense-code")&&(nf=!0);jc.push({id:a,start:isNaN(parseInt(e.attr("data-show"),10))?0:parseInt(e.attr("data-show"),10),end:isNaN(parseInt(e.attr("data-hide"),10))?1E5:parseInt(e.attr("data-hide"),10),item:e});a++});Tb.show();if(nf)if("undefined"===typeof adsbygoogle){if("file:"!=window.location.protocol){var b=document.createElement("script");
b.type="text/javascript";var d=MVPUtils.relativePath(c.adsbygoogle_js)?c.adsbygoogle_js:MVPUtils.qualifyURL(c.sourcePath+c.adsbygoogle_js);b.src=d;b.onload=b.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||Tb.find(".adsbygoogle").each(function(){(adsbygoogle=window.adsbygoogle||[]).push({})})};b.onerror=function(){alert("Error loading "+this.src)};d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(b,d)}}else Tb.find(".adsbygoogle").each(function(){(adsbygoogle=
window.adsbygoogle||[]).push({})})}if("audio"==l||"video"==l||"youtube"==l&&"chromeless"==c.youtubePlayerType||"vimeo"==l&&"chromeless"==sa)g.subtitles?(Be=!1,Pc()):Be=!0,g.chapters?(Xc=!1,yi(),$a.addClass("mvp-seekbar-chapters"),Yc.css("display","block")):Xc=!0,!za&&g.previewSeek?(Fe=!1,zi()):Fe=!0;c.upNextTime&&!of&&(b=L.getNextCounter(1),"undefined"!==typeof b&&(b=ka[b].data,b.thumb||b.title))&&(b.thumb?pf.css({"background-image":"url("+encodeURI(b.thumb)+")",display:"block"}):pf.css("display",
"none"),b.title&&sg.html(b.title),b.duration&&Th.html(MVPUtils.formatTime(b.duration)),Ya.addClass("mvp-upnext-on"));g.title&&(Uh.html(g.title),nd.show());g.description&&(Vh.html(g.description),nd.show());Xi&&g.download&&(c.restrictDownloadForLoggedInUser&&!c.isUserLoggedIn||!tg?od.show():od.show().find("a").attr({href:g.download,download:""}))}"audio"==l||"video"==l||"youtube"==l&&"chromeless"==c.youtubePlayerType||"vimeo"==l&&"chromeless"==sa?(g.liveStream?(Kc.hide(),pd.hide(),fc.hide(),$a.hide(),
Wh.show()):(Kc.show(),pd.show(),fc.show(),$a.show()),hb.show(),de.show(),qf.show(),ee.show(),fe.show(),ge.show()):(hb.hide(),de.hide(),Kc.hide(),pd.hide(),fc.hide(),$a.hide(),qf.hide(),ee.hide(),fe.hide(),ge.hide())}function Oi(a){pg=!0;Lc||(Lc=Hc.find(".mvp-emiframe"),"chromeless"==c.youtubePlayerType&&c.forceYoutubeChromeless&&Lc.addClass("mvp-yt-clean"));Lc.addClass("mvp-visible");c.selectorInit&&!bb&&(J=mb,bb=!0);Oa();ma?D.playVideo():(null!=ca&&g.poster&&D.playVideo(),Lc.addClass("mvp-visible"));
R&&"chromeless"==c.youtubePlayerType&&pb.show();c.autoPlayInViewport&&!Fc&&cf()}function Pi(a){v(a.data)}function Qi(a){Z(a.data)}function Ri(a){Hc.is(":visible")&&(-1==a.data?R&&"chromeless"==c.youtubePlayerType&&pb.show():0==a.data?gc():1==a.data?(ug||(ca=null,g.playbackRate&&1!=g.playbackRate?D.setPlaybackRate(Number(g.playbackRate)):"chromeless"==c.youtubePlayerType&&Z(1),c.blockYoutubeEvents&&(rf||(rf=k('<div class="mvp-iframe-blocker"></div>').css("display","block").appendTo(Hc))),ug=!0),rf&&
!g.is360&&rf.css("display","block"),ef(),zh=!0):2==a.data?ff():3==a.data?Lc.addClass("mvp-visible"):5==a.data&&(ma||Lc.addClass("mvp-visible")))}function Si(a){switch(a.data){case 2:console.log("Error code = "+a.data+": The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.");break;case 100:console.log("Error code = "+a.data+
": Video not found, removed, or marked as private");break;case 101:console.log("Error code = "+a.data+": Embedding disabled for this video");break;case 150:console.log("Error code = "+a.data+": Video not found, removed, or marked as private [same as error 100]")}}function Mh(a){var b=MVPUtils.rgbToHex(c.vimeoPlayerColor);"#"==b.charAt(0)&&(b=b.substr(1));var d="1";c.useMobileNativePlayer&&(d="0");var e=ma?"1":"0",f="loop"==c.mediaEndAction?"1":"0",m="player"+Math.floor(16777215*Math.random());b="?color="+
b;f="&loop="+f;d="&playsinline="+d;e="&autoplay="+e;a="&background="+a;ma&&(e=c.autoPlayInViewport?"&autoplay=0":!0);-1<T.indexOf("/")&&(T=T.substr(0,T.indexOf("/")));b="https://player.vimeo.com/video/"+T+b+"&byline=1&portrait=1&title=1&autopause=1"+d+f+"&dnt=1"+a+"&speed=1&muted=0"+e;c.vimeoNoCookie&&(b+="&dnt=1");g.quality&&(b+="&quality="+g.quality);return k("<iframe/>",{id:m,frameborder:0,src:b,width:"100%",height:"100%",webkitAllowFullScreen:!0,mozallowfullscreen:!0,allowFullScreen:!0,allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"}).addClass("mvp-media mvp-emiframe")}
function qg(){if(!vg){Ic.addClass("mvp-visible");if(g.start||ca){if(ca)var a=ca;else g.start&&(a=g.start);ca=null;y.setCurrentTime(a).then(function(b){})["catch"](function(b){console.log(b.name)})}g.playbackRate&&1!=g.playbackRate&&y.setPlaybackRate(g.playbackRate).then(function(b){})["catch"](function(b){});vg=!0}ef();Ah=!0}function Nh(){l&&"vimeo"!=l||ff()}function Vi(a){Z(a.playbackRate)}function mf(){c.selectorInit&&!bb&&(J=mb,bb=!0);Oa();c.blockVimeoEvents="default"==sa?!1:!0;c.blockVimeoEvents&&
(sf||(sf=k('<div class="mvp-iframe-blocker"></div>').css("display","block").appendTo(Cb)),g.is360?sf.css("display","none"):sf.css("display","block"));ma||null!=ca?y.play().then(function(){qg()})["catch"](function(a){"chromeless"==sa&&(Y.show(),P.hide());Ic.addClass("mvp-visible")}):("chromeless"==sa&&(Y.show(),P.hide()),Ic.addClass("mvp-visible"));R&&"chromeless"==sa&&pb.show();c.autoPlayInViewport&&!Fc&&cf()}function Wi(a){Fb=a.duration;qd=a.seconds;tf=a.percent}function Oh(){gc()}function Ti(){P.show()}
function Ui(){P.hide()}function Ph(a){console.log("Vimeo Player Error!",a)}function mg(){"image_360"==O&&qb.render(Ud,pa);Wd&&(Wd=!1,setTimeout(function(){clearTimeout(this);ic.hide()},2E3))}function wh(){W=new Hls;jf=Hls.isSupported();vh=!0;jf&&(W.subtitleDisplay=!1,W.subtitleTrack=-1,W.on(Hls.Events.MEDIA_ATTACHED,function(){W.loadSource(T)}),W.on(Hls.Events.MANIFEST_PARSED,function(a,b){if(c.showStreamVideoBitrateMenu){var d=[],e,f=b.levels.length;for(e=0;e<f;e++){var m=b.levels[e];m.width&&d.push({label:m.width+
"x"+m.height+", "+Math.ceil(Math.round(m.bitrate/1E3))+"kbps",value:e.toString()})}d.push({label:"auto",value:"-1",selected:!0});c.hideQualityMenuOnSingleQuality&&1==d.length||Za(d,"-1")}}),W.on(Hls.Events.MANIFEST_LOADED,function(a,b){}),W.on(Hls.Events.LEVEL_LOADED,function(a,b){}),W.on(Hls.Events.AUDIO_TRACKS_UPDATED,function(a,b){if(c.showStreamAudioBitrateMenu){var d=W.audioTracks,e=d.length;if(1<e){var f;for(f=0;f<e;f++){var m=d[f];var h=m.groupId+" - "+m.name;m=m.id.toString();k("<li/>").addClass("mvp-menu-item").attr({"data-value":m,
"data-label":h}).text(h).on("click",Da).appendTo(uf)}vf=!0;Xh.show();wg.removeClass("mvp-force-hide")}}}),W.on(Hls.Events.AUDIO_TRACK_SWITCHED,function(a,b){if(vf){var d=b.id;wf&&wf.removeClass("mvp-menu-active");wf=uf.find(".mvp-menu-item[data-value='"+d+"']").addClass("mvp-menu-active");V.find(".mvp-audio-language-menu-value").text(wf.text())}}),W.on(Hls.Events.AUDIO_TRACK_LOADED,function(a,b){}),W.on(Hls.Events.SUBTITLE_TRACK_SWITCH,function(a,b){}),W.on(Hls.Events.SUBTITLE_TRACK_LOADED,function(a,
b){}),W.on(Hls.Events.SUBTITLE_TRACKS_UPDATED,function(a){a=W.subtitleTracks.length;if(0<a&&!g.subtitles){var b;g.subtitles=[];for(b=0;b<a;b++){var d=W.subtitleTracks[b];var e=b.toString();e={label:d.name,value:e,src:d.url};d["default"]&&(e["default"]=!0);g.subtitles.push(e)}Pc()}}),W.on(Hls.Events.ERROR,function(a,b){if(b.fatal)switch(b.type){case Hls.ErrorTypes.NETWORK_ERROR:console.log("fatal network error encountered, try to recover");W.startLoad();break;case Hls.ErrorTypes.MEDIA_ERROR:console.log("fatal media error encountered, try to recover");
W.recoverMediaError();break;default:W.destroy()}}))}function yh(){Ca=dashjs.MediaPlayer().create();xh=!0;Ca.setFastSwitchEnabled=!0;Ca.on(dashjs.MediaPlayer.events.STREAM_INITIALIZED,function(a){if(c.showStreamVideoBitrateMenu){var b=Ca.getBitrateInfoListFor("video"),d=[],e=b.length;for(a=0;a<e;a++){var f=b[a];f.width&&d.push({label:f.width+"x"+f.height+", "+Math.ceil(Math.round(f.bitrate/1E3))+"kbps",value:f.qualityIndex.toString()})}d.push({label:"auto",value:"-1",selected:!0});c.hideQualityMenuOnSingleQuality&&
1==d.length||Za(d,"-1")}if(c.showStreamAudioBitrateMenu&&(b=Ca.getBitrateInfoListFor("audio"),e=b.length,1<e)){for(a=0;a<e;a++)f=b[a],d=Math.ceil(Math.round(f.bitrate/1E3))+"kbps",f=f.qualityIndex.toString(),k("<li/>").addClass("mvp-menu-item").attr({"data-value":f,"data-label":d}).text(d).on("click",Da).appendTo(uf);vf=!0;Xh.show();wg.removeClass("mvp-force-hide")}});Ca.on(dashjs.MediaPlayer.events.QUALITY_CHANGE_REQUESTED,function(a){});Ca.on(dashjs.MediaPlayer.events.QUALITY_CHANGE_RENDERED,function(a){});
Ca.on(dashjs.MediaPlayer.events.TRACK_CHANGE_RENDERED,function(a){});Ca.on(dashjs.MediaPlayer.events.TEXT_TRACKS_ADDED,function(a){});Ca.on(dashjs.MediaPlayer.events.ERROR,function(a){console.log("dashjs.MediaPlayer.events.ERROR "+a.error+" : "+a.event.message)});Ca.on(dashjs.MediaPlayer.events.PLAYBACK_ERROR,function(a){})}function kc(){Bb=!1;Na&&cancelAnimationFrame(Na);xa&&clearInterval(xa);Ra.off(gg);ea.find(".mvp-media").removeClass("mvp-visible");ic&&(ic.hide(),Wd=!1);Qb&&(Qb.removeEventListener("change",
mg),Qb.reset());xf&&Yh();if("audio"==l)w&&(w.pause(),w.src=""),Gc&&Gc.off("ended pause play canplay ratechange loadedmetadata error"),Qd&&zb&&zb.clean();else if("video"==l){jf&&"hls"==O&&W.detachMedia();Eh&&"dash"==O&&Ca.attachSource(null);Ab&&"video_360"==O&&Pb&&Pb.hide();if(r){r.pause();try{r.currentTime=0}catch(a){}r.src="";r=null}Ma&&Ma.off("ended loadedmetadata ratechange canplay canplaythrough waiting playing play pause error seeked");Ob&&Ob.hide()}else"image"==l?(Sb&&(clearTimeout(Sb),Sb=null),
"image_360"==O?(Vd&&Vd.hide(),ng=!1):(kf.hide().find(".mvp-media").remove(),md=null),Rb=Xd=null):"youtube"==l?D&&(Hc.hide(),pg&&D.stopVideo(),ug=!1):"vimeo"==l?(tf=qd=Fb=0,y&&y.unload().then(function(){})["catch"](function(a){console.log(a)}),vg=!1,Cb&&Cb.hide()):"custom"==l&&ce.empty().hide();X&&(na.hide().empty(),X=null);R&&(R=!1,he.removeClass("mvp-ad-skip-btn-visible"),lf.hide(),Zh.hide(),pb.hide(),pb.find(".mvp-volume-toggle").show(),xg.html($h),yg=!1);Tb.hide().empty();jc=[];nf=!1;od.hide().find("a").attr("href",
"#").removeAttr("download");Wh.hide();ld.hide();Yc.css("display","none");Gd.hide();ub.css("display","none").removeClass("mvp-holder-visible");Ed.html("");lb=!1;V.removeClass("mvp-holder-visible").css({display:"none",width:"auto",height:"auto"});V.find(".mvp-settings-menu").css("display","none");uc.css("display","block");Kc.html("00:00").hide();pd.hide();fc.html("00:00").hide();Gb=null;ai.hide();Ia.empty();Wc=!1;kb=[];Ce=[];Db=oa=null;Cd.empty();Yg.addClass("mvp-force-hide");wc.hide();ze.empty();Xg.addClass("mvp-force-hide");
uf.empty();wg.addClass("mvp-force-hide");vf=!1;oa&&Ia.removeClass("mvp-subtitle-visible");ba.hide();Ib=null;tb=[];Yb.hide();yb=!1;Hd.css("display","none").removeClass("mvp-holder-visible");Uh.html("");Vh.html("");nd.hide();Jb=!1;Id.css("display","none").removeClass("mvp-holder-visible");Kb=!1;fh.css("display","none").removeClass("mvp-holder-visible");gh.css("display","none").removeClass("mvp-holder-visible");Ie=!1;Mc.css("display","none").removeClass("mvp-holder-visible");ie=!1;Y.hide();hb.find(".mvp-btn-play").show();
hb.find(".mvp-btn-pause").hide();Ya.removeClass("mvp-upnext-on mvp-upnext-visible");pf.css("background-image","none");sg.html("");Th.html("");Fa.removeClass("mvp-upnext-wrap2-visible");Vf.css("background-image","none");Wf.html("");Xf.html("");$b.hide().removeClass("mvp-holder-visible");Ge.val("");lc&&lc.hide();g=O=l=ca=null;zg=Ag=bc=S=fa=!1;bi.width(0);ci.width(0);di.width(0);Ad.width(0);ma||(Ua.css("display","none").removeClass("mvp-player-controls-visible"),db=!0)}function Bg(){x&&l&&(ua&&Uf(),
kc(),L.reSetCounter(),Ua.removeClass("mvp-player-controls-visible"),"fullscreen"==ta&&(document.body.style.cursor="none"),db=!0)}function Ke(){l&&kc();M.empty();Q=0;L.reSetCounter();eg=!1;cd="";Ac=null;nb&&nb.setScrollActive();Ja=!1;Qe=Pe=Oe=Se=Re=Ne=Me=Le=G=null;Nb=eb=!1;ka=[];la=[];Aa=[];je=ke=Ye=Xe=bf=af=$e=Ze=We=dc=gd=cc=null;hd=[]}function Eb(){x&&0!=Q&&(g&&yc(),L.advanceHandler(1,!0))}function yc(){if(S&&(c.useStatistics&&void 0!=wb&&Cg("mvp_play_count",wb),c.displayWatchedPercentage&&g&&void 0!=
g.mediaId&&!g.watchedComplete)){var a=q.getCurrentTime(),b=q.getDuration(),d=[{name:"action",value:"mvp_set_watched_percentage"},{name:"playlist_id",value:Lb},{name:"media_id",value:g.mediaId},{name:"title",value:g.safeTitle||""},{name:"watched",value:a},{name:"duration",value:b}];a+.1>=b&&(ka[wb].data.watchedComplete=!0);k.ajax({url:c.ajax_url,type:"post",data:d,dataType:"json"}).done(function(e){if(e){var f=M.find('.mvp-playlist-item[data-media-id="'+e.media_id+'"][data-safe-title="'+e.title+'"]');
f.length&&(e=e.watched/e.duration*100,100<e&&(e=100),f.find(".mvp-media-watched-progress").width(e+"%"),f.find(".mvp-media-watched-bg").removeClass("mvp-hidden"))}}).fail(function(e,f,m){console.log("Error mvp_set_watched_percentage: "+e.responseText,f,m)})}}function Ni(){var a,b=[];for(a=0;a<Q;a++){var d=ka[a].data;d.watchedSet||void 0==d.mediaId||(b.push({media_id:d.mediaId,title:d.safeTitle||""}),d.watchedSet=!0)}b.length&&(a=[{name:"action",value:"mvp_get_watched_percentage"},{name:"data",value:JSON.stringify(b)}],
k.ajax({url:c.ajax_url,type:"post",data:a,dataType:"json"}).done(function(e){if(e){var f,m=e.length;for(f=0;f<m;f++){var h=e[f];var t=M.find('.mvp-playlist-item[data-media-id="'+h.media_id+'"][data-safe-title="'+h.title+'"]');if(t.length){var z=h.watched/h.duration*100;100<z&&(z=100);h.watched+.1>=h.duration&&t.attr("data-watched-complete","1");t.find(".mvp-media-watched-progress").width(z+"%");t.find(".mvp-media-watched-bg").removeClass("mvp-hidden")}}}}).fail(function(e,f,m){console.log("Error mvp_get_watched_percentage: "+
e.responseText,f,m)}))}function te(){x&&0!=Q&&(g&&yc(),L.advanceHandler(-1,!0))}function ef(){P.hide();Y.hide();hb.find(".mvp-btn-play").hide();hb.find(".mvp-btn-pause").show();c.showPosterOnPause&&X&&X.one("transitionend",function(){fa&&na.hide()}).removeClass("mvp-visible");if(!S){c.autoPlayAfterFirst&&(ma=!0);if(!ei&&(ei=!0,Vc&&Vc.length&&0==J))Vc.addClass("mvp-unmute-toggle-visible").one("click touchend",function(){da()});if(ua&&ua.find(".mvp-playlist-duration.mvp-hidden").length){var a=q.getDuration();
ua.find(".mvp-playlist-duration.mvp-hidden").html(MVPUtils.formatTime(a)).removeClass("mvp-hidden")}c.minimizeOnScroll&&c.minimizeOnScrollOnlyIfPlaying&&Qc();if("audio"==l&&Qd)if("file:"==window.location.protocol)console.log("Using Audio Equalizer requires server connection!");else if("undefined"===typeof zb)var b=setInterval(function(){zb&&(b&&clearInterval(b),zb.init(w),Sd.addClass("mvp-visible"))},100);else zb.init(w),Sd.addClass("mvp-visible");else if(Ab&&"video_360"==O){Ob.hide();Pb.show();ic&&
(ic.show(),Wd=!0);Qb.addEventListener("change",mg);a=ea.width();var d=ea.height();hc.setSize(a,d);pa.aspect=a/d;pa.updateProjectionMatrix();Pb.addClass("mvp-visible");Bb=!0;Na&&cancelAnimationFrame(Na);Na=requestAnimationFrame(jg)}a=R?"adStart":"mediaStart";k(q).trigger(a,{instance:q,instanceName:c.instanceName,media:g});S=!0;R?(Ua.css("display","none").removeClass("mvp-player-controls-visible"),document.body.style.cursor="default",db=!0,lf.show()):(lf.hide(),"youtube"==l&&"default"==c.youtubePlayerType||
"vimeo"==l&&"default"==sa||"custom"==l?(Ua.css("display","none").removeClass("mvp-player-controls-visible"),document.body.style.cursor="default",db=!0):Ua.css("display","block"))}if(c.togglePlaybackOnMultipleInstances&&1<mvp_mediaArr.length)for(d=mvp_mediaArr.length,a=0;a<d;a++)q!=mvp_mediaArr[a].inst&&mvp_mediaArr[a].inst.pauseMedia();if("audio"==l||"video"==l||"youtube"==l&&"chromeless"==c.youtubePlayerType||"vimeo"==l&&"chromeless"==sa)xa&&clearInterval(xa),xa=setInterval(sc,250);R?k(q).trigger("adPlay",
{instance:q,instanceName:c.instanceName,media:g}):k(q).trigger("mediaPlay",{instance:q,instanceName:c.instanceName,media:g});fa=!0;zc&&clearTimeout(zc);Yf()}function ff(){xa&&clearInterval(xa);P.hide();hb.find(".mvp-btn-play").show();hb.find(".mvp-btn-pause").hide();c.showPosterOnPause&&X&&(na.show(),setTimeout(function(){X.addClass("mvp-visible")},20));S?("audio"==l||"video"==l||"youtube"==l&&"chromeless"==c.youtubePlayerType||"vimeo"==l&&"chromeless"==sa)&&Y.show():"audio"!=l&&"video"!=l||Y.show();
var a=R?"adPause":"mediaPause";k(q).trigger(a,{instance:q,instanceName:c.instanceName,media:g});if(R&&g.link)if(g.target&&"_blank"==g.target)window.open(g.link);else{a=g.link;Bg();window.location=a;return}fa=!1}function jg(){Bb&&(Ma.readyState===Ma.HAVE_ENOUGH_DATA&&(kd.needsUpdate=!0),hc.render(ig,pa),Na=requestAnimationFrame(jg))}function sc(a){if("undefined"!==typeof a||fa){var b;if("audio"==l){if(w){var d=w.currentTime,e=w.duration;if("undefined"!==typeof w.buffered&&0!=w.buffered.length){try{var f=
w.buffered.end(w.buffered.length-1)}catch(aa){}isNaN(f)||(b=f/Math.floor(w.duration))}}}else if("video"==l){if(r&&(d=r.currentTime,e=r.duration,"undefined"!==typeof r.buffered&&0!=r.buffered.length)){try{f=r.buffered.end(r.buffered.length-1)}catch(aa){}isNaN(f)||(b=f/Math.floor(r.duration))}}else"youtube"==l?D&&(d=D.getCurrentTime(),e=D.getDuration(),b=D.getVideoLoadedFraction()):"vimeo"==l?(d=qd,e=Fb,b=tf):"image"==l&&(b=1E3*g.duration,d=(new Date).getTime()-Xd,Rb-=d,0>Rb&&(Rb=0),Xd=(new Date).getTime(),
d=(b-Rb)/1E3,e=g.duration,b=1);if(MVPUtils.isNumber(d)&&MVPUtils.isNumber(e)){a=d;0<e&&!R&&(Ta.length&&Xc&&!Fd&&("audio"==l||"video"==l||"youtube"==l&&"chromeless"==c.youtubePlayerType||"vimeo"==l&&"chromeless"==sa)&&($g(e),Fd=!0),Rd||(c.createAdMarkers&&ab.length&&ah(e),Rd=!0));if(R){Ag||(Yd=og.width(),Ag=!0);if(a!=Gb&&(Yi.html("&nbsp;(-"+MVPUtils.formatTime(e-a)+")"),0<a)){if(!yg&&(yg=!0,le=!1,me=null,"undefined"!==typeof g.skipEnable)){me=g.skipEnable;if(yf){if(f=L.getNextCounter(1),"undefined"!==
typeof f&&(f=ka[f].data,f.thumb))var m=f.thumb}else rd.thumb&&(m=rd.thumb);m&&k('<img src="'+m+'" alt="next"/>').appendTo(fi.empty().show());gi.show();he.addClass("mvp-ad-skip-btn-visible")}null==me||le||(a<me?xg.html($h+"&nbsp;"+(me-parseInt(a,10)).toString()):(le=!0,fi.hide(),gi.hide(),Zh.show()))}b&&bi.width(b*Yd);ci.width(d/e*Yd)}else{zg||(Ea=Qa.width(),zg=!0);if(a!=Gb){if((g.end||g.lockTime&&!$c)&&d>=(g.end||g.lockTime)){g.lockTime?(xa&&clearInterval(xa),Bb=!1,Na&&cancelAnimationFrame(Na),Zc("watch")):
("loop"!=c.mediaEndAction&&"rewind"!=c.mediaEndAction&&(xa&&clearInterval(xa),Bb=!1,Na&&cancelAnimationFrame(Na)),gc());return}if(ab.length)for(f=ab.length,m=0;m<f;m++){var h=ab[m];if(a==h.begin)if(h.played)h.played=!1;else{xa&&clearInterval(xa);Bb=!1;Na&&cancelAnimationFrame(Na);h.played=!0;Td=h.begin;c.playAdsOnlyOnce&&(ab[m].marker.remove(),ab.splice(m,1));kc();g=h.data.type?h.data:zf(h.data);R=!0;Od();return}}if(jc.length)for(f=jc.length,m=0;m<f;m++){h=jc[m];var t=h.start;var z=h.end;h=h.item;
a>=t&&a<=z-1?h.mvpvisible||(h.hasClass("mvp-annotation-iframe")?(t=h.find("iframe"),t.attr("src",t.attr("data-src"))):h.hasClass("mvp-annotation-shortcode")&&!h.hasClass("mvp-annotation-shortcode-ready")&&"file:"!=window.location.protocol&&(t=h.addClass("mvp-annotation-shortcode-ready mvp-hidden").find(".mvp-annotation-shortcode-content").html(),Zi(h,t)),h.css("display","block"),h.mvpvisible=!0):h.mvpvisible&&(h.css("display","none"),h.hasClass("mvp-annotation-iframe")?h.find("iframe").attr("src",
"about:blank"):h.hasClass("mvp-annotation-shortcode"),h.mvpvisible=!1)}if(Wc&&kb.length)for(f=kb.length,m=0;m<f;m++)h=kb[m],t=h.start,z=h.end,a>=t&&a<=z?oa||(oa=k('<div class="mvp-subtitle">'+h.text+"</div>"),Ua.hasClass("mvp-player-controls-visible")&&Ia.addClass("mvp-subtitle-visible"),oa.start=t,oa.end=z,Ia.append(oa)):oa&&(a<oa.start||a>oa.end)&&(oa.remove(),oa=null);if(Fd)for(f=Ta.length,m=0;m<f;m++)h=Ta[m],t=h.start,z=h.end,a>=t&&a<=z?vb||Nf(m):vb&&(a<vb.start||a>vb.end)&&(vb=null);0<e&&(of||
Ya.hasClass("mvp-upnext-on")&&(a>e-c.upNextTime?Ya.addClass("mvp-upnext-visible"):Ya.removeClass("mvp-upnext-visible")));Kc.html(MVPUtils.formatTime(a));fc.html(MVPUtils.formatTime(e))}b&&1!=b&&di.width(b*Ea);Ad.width(d/e*Ea)}if(c.caption_breakPointArr&&!hi&&oa){b=Ia.width();f=c.caption_breakPointArr.length;for(m=0;m<f;m++)if(d=c.caption_breakPointArr[m],b>d.width)var ha=d.size;Ia.css("fontSize",ha+"px");hi=!0}Gb=a}}}function Cg(a,b){if("file:"!=window.location.protocol&&ka[b]){var d=ka[b].data;if(void 0!=
d.mediaId){if(void 0==Lb)if(void 0!=d.playlistId)Lb=d.playlistId;else return;if("mvp_play_count"==a)var e=[{name:"action",value:a},{name:"playlist_id",value:Lb},{name:"media_id",value:d.mediaId},{name:"title",value:d.safeTitle||""},{name:"currentTime",value:q.getCurrentTime()},{name:"duration",value:q.getDuration()}];else if("mvp_download_count"==a||"mvp_finish_count"==a)e=[{name:"action",value:a},{name:"playlist_id",value:c.playlistId},{name:"media_id",value:d.mediaId},{name:"title",value:d.safeTitle||
""}];console.log(e);k.ajax({url:c.ajax_url,type:"post",data:e,dataType:"json"}).done(function(f){}).fail(function(f,m,h){console.log("Error getStats: "+f.responseText,m,h)})}}}function Zi(a,b){var d=[{name:"action",value:"mvp_annotation_shortcode"},{name:"shortcode",value:JSON.stringify(b)},{name:"annotation_id",value:a.attr("data-id")}];k.ajax({url:c.ajax_url,type:"post",data:d,dataType:"json"}).done(function(e){var f=Tb.find(".mvp-annotation[data-id="+e.annotation_id+"]");f.length&&(f.find(".mvp-annotation-shortcode-content").html(e.output),
f.removeClass("mvp-hidden"))}).fail(function(e,f,m){console.log("Error doAnnotationShortcode: "+e.responseText,f,m)})}function gc(){R?k(q).trigger("adEnd",{instance:q,instanceName:c.instanceName,media:g}):(c.useStatistics&&Cg("mvp_finish_count",wb),"next"!=c.mediaEndAction&&"comingnext"!=c.mediaEndAction&&yc());if("undefined"!==typeof g.endLink)if("_blank"==g.endTarget)window.open(g.endLink);else{var a=g.endLink;Bg();window.location=a;return}if(R&&!yf)kc(),ib.length&&ya<ib.length-1?(ya++,g=ib[ya].type?
ib[ya].data:zf(ib[ya]),R=!0):(ib=[],ya=-1,g=rd),Od();else if(Ub.length&&ya<Ub.length-1)kc(),ya++,g=Ub[ya].type?Ub[ya].data:zf(Ub[ya]),R=yf=!0,Od();else if(k(q).trigger("mediaEnd",{instance:q,instanceName:c.instanceName,media:g}),a=g.start||0,"next"==c.mediaEndAction)Eb();else if("rel"==c.mediaEndAction)if("audio"==l?w&&(w.currentTime=a,w.pause()):"video"==l?r&&(r.currentTime=a,r.pause()):"youtube"==l?D&&(D.seekTo(a),D.pauseVideo()):"vimeo"==l&&y&&(y.pause(),y.setCurrentTime(a)),Zf.find(".mvp-rel-playlist").length)if("undefined"===
typeof MVPRelPagination){a=document.createElement("script");a.type="text/javascript";a.src=MVPUtils.qualifyURL(c.sourcePath+c.rel_js);a.onload=a.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||(sd||(sd=new MVPRelPagination({parent:q,wrapper:Mc,settings:c})),q.toggleRel())};a.onerror=function(){alert("Error loading "+this.src)};var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}else sd||(sd=new MVPRelPagination({wrapper:Mc,settings:c})),q.toggleRel();
else console.log("No related playlists found!");else"comingnext"==c.mediaEndAction?("audio"==l?w&&(w.currentTime=a,w.pause()):"video"==l?r&&(r.currentTime=a,r.pause()):"youtube"==l?D&&(D.seekTo(a),D.pauseVideo()):"vimeo"==l&&y&&(y.pause(),y.setCurrentTime(a)),a=L.getNextCounter(1),"undefined"!==typeof a&&(a=ka[a].data,$i(a))):"loop"==c.mediaEndAction?"audio"==l?w&&(w.currentTime=a,w.play()):"video"==l?r&&(r.currentTime=a,r.play()):"youtube"==l?D&&(D.seekTo(a),D.playVideo()):"vimeo"==l&&y&&y.setCurrentTime(a):
"rewind"==c.mediaEndAction?"audio"==l?w&&(w.currentTime=a,w.pause()):"video"==l?r&&(r.currentTime=a,r.pause()):"youtube"==l?D&&(D.seekTo(a),D.pauseVideo()):"vimeo"==l&&y&&(y.pause(),y.setCurrentTime(a)):"poster"==c.mediaEndAction&&("audio"==l?w&&(w.currentTime=a,w.pause()):"video"==l?(r&&(r.currentTime=a,r.pause()),g.poster&&(S=!1,Ab&&"video_360"==O?Pb&&Pb.hide():Ob.hide(),ad())):"youtube"==l?(D&&(D.seekTo(a),D.pauseVideo()),g.poster&&(S=!1,Hc.hide(),ad())):"vimeo"==l&&(y&&(y.pause(),y.setCurrentTime(a)),
g.poster&&(S=!1,Cb.hide(),ad())))}function $i(a){if(a.poster||a.thumb){var b=a.poster||a.thumb;k(new Image).addClass("mvp-media").appendTo(ii.empty()).on("load",function(){td=k(this);MVPAspectRatio.resizeMedia("image",gb,K,td);td.addClass("mvp-visible")}).on("error",function(d){console.log(d)}).attr({src:b,alt:g.title})}b=a.title;a.duration&&(b+=' <span class="mvp-comingnext-duration">('+MVPUtils.formatTime(a.duration)+")</span>");ji.html(b);Af.css("display","block");setTimeout(function(){Af.addClass("mvp-holder-visible");
xf=!0;var d=1;Dg.css("stroke-dashoffset",169-169/c.comingnextTime);Nc=setInterval(function(){Nc&&(d==c.comingnextTime?(clearInterval(Nc),Nc=null,Eb()):(Dg.css("stroke-dashoffset",169-169/c.comingnextTime*(d+1)),d++))},1E3)},20)}function Yh(){Nc&&(clearInterval(Nc),Nc=null);xf&&Af.one("transitionend",function(){Af.css("display","none");xf=!1;ii.empty();td=null;ji.html("");Dg.css("stroke-dashoffset","169")}).removeClass("mvp-holder-visible")}function jb(){if(!x||!c.addResizeEvent)return!1;if(c.createPlayer){var a=
MVPUtils.getViewportSize(za);"normal"==ta&&ne&&"wall"!=F&&(a.h-=ne);var b=ia.hasClass(c.minimizeClass)?ia:n;if("vlb"==F||"vrb"==F)if(b.width()>c.verticalBottomSepearator){U.removeClass("mvp-playlist-holder-bottom").width(c.playlistSideWidth);var d=c.playlistOpened?b.width()-U.width():b.width();K.width(d);if("fullscreen"==ta)d=b.height();else{var e=b.width();d=c.combinePlayerRatio?d/c.playerRatio:e/c.playerRatio}d>a.h&&(d=a.h);K.height(d);U.height(d);b.height(d)}else U.addClass("mvp-playlist-holder-bottom"),
e=b.width(),d=e/c.playerRatio,d>a.h&&(d=a.h),K.css({height:d,width:e}),U.css({height:c.playlistBottomHeight,width:"100%"}),c.playlistOpened?b.height(d+U.height()):b.height(d),"fullscreen"==ta&&(c.playlistOpened?K.height(b.height()-U.height()):K.height(b.height()));else"vb"==F?(e=b.width(),d=e/c.playerRatio,d>a.h&&(d=a.h),K.height(d),c.playlistOpened?b.height(d+U.height()):b.height(d),"fullscreen"==ta&&(c.playlistOpened?K.height(b.height()-U.height()):K.height(b.height()))):"ht"==F||"hb"==F?(e=b.width(),
d=e/c.playerRatio,d>a.h&&(d=a.h),500<d&&a.h<=d?(b.height(d),c.playlistOpened?K.height(d-U.height()):K.height(d)):(K.height(d),c.playlistOpened?b.height(d+U.height()):b.height(d),"fullscreen"==ta&&(c.playlistOpened?K.height(b.height()-U.height()):K.height(b.height())))):"wall"==F?"normal"==ta&&Hb&&(e=Wb.width(),d=e/c.playerRatio,d>a.h?(d=a.h,d-=ne,pc.removeClass("mvp-lightbox-center")):pc.addClass("mvp-lightbox-center"),Wb.height(d)):"outer"==F?"fullscreen"==ta?K.height(b.height()):(e=b.width(),d=
e/c.playerRatio,d>a.h&&(d=a.h),K.height(d)):"no-playlist"==F&&(e=b.width(),d=e/c.playerRatio,d>a.h&&(d=a.h),b.height(d));"lightbox"==c.playerType&&"normal"==ta&&(e=Wb.width(),d=e/c.playerRatio,a=MVPUtils.getViewportSize(za),d=b.height(),d>a.h?(d=a.h,d-=ne,pc.removeClass("mvp-lightbox-center")):pc.addClass("mvp-lightbox-center"),Wb.height(d));cb&&c.breakPointArr&&(qh(),ec!=dg&&(dg=ec,M.find(".mvp-playlist-item").each(function(){if(0<La){var m=100/ec;k(this).css({marginLeft:0,marginTop:0,marginRight:La+
"px",marginBottom:La+"px",width:"calc("+m+"% - "+La+"px)"})}else k(this).css({marginLeft:0,marginTop:0,marginRight:La+"px",marginBottom:La+"px",width:100/ec+"%"})})));c.minimizeOnScroll&&(ia.hasClass(c.minimizeClass)?"normal"==ta&&(b.width()>a.w-5?b.addClass("mvp-minimize-full-width"):b.removeClass("mvp-minimize-full-width")):ia.css({width:b.width(),height:b.height()}));Ea=Qa.width();Yd=og.width();V&&V.height()>K.height()-60&&V.css("maxHeight",K.height()-60).addClass("mvp-settings-holder-scrollable");
l&&(X?MVPAspectRatio.resizeMedia("image",gb,K,X):td&&MVPAspectRatio.resizeMedia("image",gb,K,td),"video"==l?Ab&&"video_360"==O?Bb&&(e=ea.width(),d=ea.height(),hc.setSize(e,d),pa.aspect=e/d,pa.updateProjectionMatrix()):Ma&&MVPAspectRatio.resizeMedia("video",gb,K,Ma):"image"==l&&("image_360"==O?ng&&(e=ea.width(),d=ea.height(),qb.setSize(e,d),pa.aspect=e/d,pa.updateProjectionMatrix(),qb.render(Ud,pa)):md&&MVPAspectRatio.resizeMedia("image",gb,K,md)));if(c.elementsVisibilityArr)for(a=c.elementsVisibilityArr.length,
e=b.width(),b=0;b<a;b++)d=c.elementsVisibilityArr[b],e<d.width?(-1==d.elements.indexOf("seekbar")&&$a.addClass("mvp-force-hide"),-1==d.elements.indexOf("play")&&hb.addClass("mvp-force-hide"),-1==d.elements.indexOf("time")&&(Kc.addClass("mvp-force-hide"),fc.addClass("mvp-force-hide"),pd.addClass("mvp-force-hide")),-1==d.elements.indexOf("download")&&od.addClass("mvp-force-hide"),-1==d.elements.indexOf("pip")&&ld.addClass("mvp-force-hide"),-1==d.elements.indexOf("cc")&&wc.addClass("mvp-force-hide"),
-1==d.elements.indexOf("chapter")&&(Gd.addClass("mvp-force-hide"),ub.addClass("mvp-force-hide")),-1==d.elements.indexOf("share")&&Eg.addClass("mvp-force-hide"),-1==d.elements.indexOf("info")&&nd.addClass("mvp-force-hide"),-1==d.elements.indexOf("next")&&oe.addClass("mvp-force-hide"),-1==d.elements.indexOf("previous")&&pe.addClass("mvp-force-hide"),-1==d.elements.indexOf("rewind")&&ge.addClass("mvp-force-hide"),-1==d.elements.indexOf("skip_backward")&&ee.addClass("mvp-force-hide"),-1==d.elements.indexOf("skip_forward")&&
fe.addClass("mvp-force-hide"),-1==d.elements.indexOf("volume")&&de.addClass("mvp-force-hide"),-1==d.elements.indexOf("volume_seekbar")&&Sa.addClass("mvp-force-hide"),-1==d.elements.indexOf("fullscreen")&&Xb.addClass("mvp-force-hide"),-1==d.elements.indexOf("theater")&&qc.addClass("mvp-force-hide"),-1==d.elements.indexOf("playlist")&&rc.addClass("mvp-force-hide"),-1==d.elements.indexOf("annotations")&&Tb.addClass("mvp-force-hide"),-1==d.elements.indexOf("upnext")&&Ya.addClass("mvp-force-hide"),-1==
d.elements.indexOf("settings")&&qf.addClass("mvp-force-hide")):(-1==d.elements.indexOf("seekbar")&&$a.removeClass("mvp-force-hide"),-1==d.elements.indexOf("play")&&hb.removeClass("mvp-force-hide"),-1==d.elements.indexOf("time")&&(Kc.removeClass("mvp-force-hide"),fc.removeClass("mvp-force-hide"),pd.removeClass("mvp-force-hide")),-1==d.elements.indexOf("download")&&od.removeClass("mvp-force-hide"),-1==d.elements.indexOf("pip")&&ld.removeClass("mvp-force-hide"),-1==d.elements.indexOf("cc")&&wc.removeClass("mvp-force-hide"),
-1==d.elements.indexOf("chapter")&&(Gd.removeClass("mvp-force-hide"),ub.removeClass("mvp-force-hide")),-1==d.elements.indexOf("share")&&Eg.removeClass("mvp-force-hide"),-1==d.elements.indexOf("info")&&nd.removeClass("mvp-force-hide"),-1==d.elements.indexOf("next")&&oe.removeClass("mvp-force-hide"),-1==d.elements.indexOf("previous")&&pe.removeClass("mvp-force-hide"),-1==d.elements.indexOf("rewind")&&ge.removeClass("mvp-force-hide"),-1==d.elements.indexOf("skip_backward")&&ee.removeClass("mvp-force-hide"),
-1==d.elements.indexOf("skip_forward")&&fe.removeClass("mvp-force-hide"),-1==d.elements.indexOf("volume")&&de.removeClass("mvp-force-hide"),-1==d.elements.indexOf("volume_seekbar")&&Sa.removeClass("mvp-force-hide"),-1==d.elements.indexOf("fullscreen")&&Xb.removeClass("mvp-force-hide"),-1==d.elements.indexOf("theater")&&qc.removeClass("mvp-force-hide"),-1==d.elements.indexOf("playlist")&&rc.removeClass("mvp-force-hide"),-1==d.elements.indexOf("annotations")&&Tb.removeClass("mvp-force-hide"),-1==d.elements.indexOf("upnext")&&
Ya.removeClass("mvp-force-hide"),-1==d.elements.indexOf("settings")&&qf.removeClass("mvp-force-hide"));if(!c.keepCaptionFontSizeAfterManualResize&&c.caption_breakPointArr&&oa){e=Ia.width();a=c.caption_breakPointArr.length;for(b=0;b<a;b++)if(d=c.caption_breakPointArr[b],e>d.width)var f=d.size;Ia.css("fontSize",f+"px")}ie&&sd.resizePagination()}cb&&c.playlistOpened&&nb&&nb.resize(ua)}function bh(a){if(!x)return!1;if("undefined"!==typeof a){if(c.playlistOpened&&1==a||!c.playlistOpened&&0==a)return!1;
c.playlistOpened=!a}c.playlistOpened?U.hide():U.show();c.playlistOpened=!c.playlistOpened;jb()}function Kd(a){var b={};b.origclasses=a.attr("class");b.type=b.origtype=a.attr("data-type");void 0!=a.attr("data-noapi")&&(b.noApi=!0);void 0!=a.attr("data-media-id")&&(b.mediaId=a.attr("data-media-id"));void 0!=a.attr("data-category")&&(b.category=a.attr("data-category"));void 0!=a.attr("data-tag")&&(b.tag=a.attr("data-tag"));Ne?b.pwd=Ne:void 0!=a.attr("data-pwd")&&(b.pwd=a.attr("data-pwd"));void 0!=a.attr("data-live-stream")&&
(b.liveStream=!0);void 0!=a.attr("data-alt")&&(b.alt=a.attr("data-alt"));"audio"==b.type||"video"==b.type||"video_360"==b.type?b.path=a.data("path"):void 0!=a.attr("data-path")&&(b.path=a.attr("data-path"),-1!=b.path.indexOf("ebsfm:")&&(b.path=atob(b.path.substr(6))));void 0!=a.attr("data-mp4")&&(b.mp4=a.attr("data-mp4"));void 0!=a.attr("data-thumb")&&(b.thumb=a.attr("data-thumb"));void 0!=a.attr("data-hover-preview")&&(b.hoverPreview=a.attr("data-hover-preview"));void 0!=a.attr("data-title")&&(b.title=
a.attr("data-title"));void 0!=a.attr("data-description")&&(b.description=a.attr("data-description"));void 0!=a.attr("data-quality")&&(b.quality=a.attr("data-quality"));void 0!=a.attr("data-download")&&(b.download=a.attr("data-download"));void 0!=a.attr("data-watched-complete")&&(b.watchedComplete=!0);void 0!=a.attr("data-poster")&&(b.poster=a.attr("data-poster"));void 0!=a.attr("data-poster-frame-time")&&(b.posterFrameTime=a.attr("data-poster-frame-time"));Re?b.lockTime=Re:void 0!=a.attr("data-lock-time")&&
(b.lockTime=Number(a.attr("data-lock-time")));Se&&(g.lockVideoUserRoles=Se);Oe?b.start=Oe:void 0!=a.attr("data-start")&&(b.start=Number(a.attr("data-start")));Pe?b.end=Pe:void 0!=a.attr("data-end")&&(b.end=Number(a.attr("data-end")));Qe?b.playbackRate=Qe:void 0!=a.attr("data-playback-rate")&&(b.playbackRate=Number(a.attr("data-playback-rate")));void 0!=a.attr("data-time-watched")&&(b.timeWatched=a.attr("data-time-watched"));void 0!=a.attr("data-duration")&&(b.duration=a.attr("data-duration"));void 0!=
a.attr("data-aspect-ratio")&&(b.aspectRatio=a.attr("data-aspect-ratio"));void 0!=a.attr("data-id3")&&(b.id3=!0);void 0!=a.attr("data-share")&&(b.share=a.attr("data-share"));void 0!=a.attr("data-limit")&&(b.limit=Number(a.attr("data-limit")));void 0!=a.attr("data-is360")&&(b.is360=!0);void 0!=a.attr("data-preview-seek")&&(b.previewSeek=a.attr("data-preview-seek"));void 0!=a.attr("data-user-id")&&(b.user_id=a.attr("data-user-id"));void 0!=a.attr("data-sort")&&(b.sort=a.attr("data-sort"),void 0!=a.attr("data-sort-direction")&&
(b.sortDirection=a.attr("data-sort-direction")));void 0!=a.attr("data-user-account")&&(b.userAccount=a.attr("data-user-account"));if(a.children(".mvp-subtitles").length){var d=a.children(".mvp-subtitles");d.children("div").length&&(b.subtitles=[],d.children("div").each(function(){var e=k(this),f=e.attr("data-label");f={label:f,value:f,src:e.attr("data-src")};void 0!=e.attr("data-default")&&(f["default"]=!0);b.subtitles.push(f)}),b.subtitles.push({label:c.subtitleOffText,value:c.subtitleOffText}))}a.find(".mvp-custom-playlist-item-content").length&&
(b.customContent=a.find(".mvp-custom-playlist-item-content").html());void 0!=a.attr("data-chapters")&&(b.chapters=a.attr("data-chapters"));void 0!=a.attr("data-link")&&(b.link=a.attr("data-link"),void 0!=a.attr("data-target")?b.target=a.attr("data-target"):b.target="_blank");void 0!=a.attr("data-end-link")&&(b.endLink=a.attr("data-end-link"),b.endTarget="_blank",void 0!=a.attr("data-end-target")&&(b.endTarget=a.attr("data-end-target")));a.children(".mvp-ad-section").length?(b.adSection=a.children(".mvp-ad-section"),
Ec&&(b.adSection=b.adSection.wrap("<p>").parent().html())):Le&&(b.adSection=Le,Ec&&(b.adSection=b.adSection.wrap("<p>").parent().html()));a.children(".mvp-annotation-section").length?(b.annotationSection=a.children(".mvp-annotation-section"),Ec&&(b.annotationSection=b.annotationSection.wrap("<p>").parent().html())):Me&&(b.annotationSection=Me,Ec&&(b.annotationSection=b.annotationSection.wrap("<p>").parent().html()));void 0!=a.attr("data-load-more")&&(eb=!0,ac=a.wrap("<p>").parent().html());return b}
function zf(a){var b={};b.type=a.attr("data-type");"audio"==b.type||"video"==b.type||"video_360"==b.type?b.path=a.data("path"):void 0!=a.attr("data-path")&&(b.path=a.attr("data-path"),-1!=b.path.indexOf("ebsfm:")&&(b.path=atob(b.path.substr(6))));void 0!=a.attr("data-poster")&&(b.poster=a.attr("data-poster"));void 0!=a.attr("data-link")&&(b.link=a.attr("data-link"),void 0!=a.attr("data-target")?b.target=a.attr("data-target"):b.target="_blank");void 0!=a.attr("data-end-link")&&(b.endLink=a.attr("data-end-link"),
b.endTarget="_blank",void 0!=a.attr("data-end-target")&&(b.endTarget=a.attr("data-end-target")));void 0!=a.attr("data-skip-enable")&&(b.skipEnable=Math.abs(parseInt(a.attr("data-skip-enable"),10)));void 0!=a.attr("data-ad-id")&&(b.adId=a.attr("data-ad-id"));void 0!=a.attr("data-duration")&&(b.duration=a.attr("data-duration"));return b}function Fg(){P.show();Ja=!0;fb&&fb.css("opacity",0);k.ajax({url:c.ajax_url,type:"post",data:[{name:"action",value:"mvp_add_more"},{name:"playlist_id",value:Lb},{name:"addMoreOffset",
value:dc},{name:"addMoreLimit",value:cc},{name:"addMoreSortOrder",value:We},{name:"addMoreSortDirection",value:Xe},{name:"encryptMediaPaths",value:Ye},{name:"taxonomy",value:Ze},{name:"category",value:$e},{name:"tag",value:af},{name:"match",value:bf}],dataType:"json"}).done(function(a){G&&void 0!=G.attr("data-add-more-offset")&&(dc=parseInt(G.attr("data-add-more-offset"),10)+cc,G.attr("data-add-more-offset",dc));q.addTrack("html",a)}).fail(function(a,b,d){console.log(a.responseText,b,d);q.endLoadMore()})}
function aj(){P.show();Ja=!0;k.ajax({url:c.ajax_url,type:"post",data:[{name:"action",value:"mvp_paginate"},{name:"playlist_id",value:Lb},{name:"addMoreOffset",value:dc},{name:"addMoreLimit",value:cc},{name:"addMoreSortOrder",value:We},{name:"addMoreSortDirection",value:Xe},{name:"encryptMediaPaths",value:Ye},{name:"taxonomy",value:Ze},{name:"category",value:$e},{name:"tag",value:af},{name:"match",value:bf}],dataType:"json"}).done(function(a){M.find(".mvp-playlist-item:visible").addClass("mvp-pagination-hidden").each(function(){k(this).find(".mvp-thumbimg").removeClass("mvp-visible")});
q.addTrack("html",a);cg(Xa);lh()}).fail(function(a,b,d){console.log(a,b,d);q.endLoadMore()})}function lh(){hd[Xa].page=Xa;var a=[];M.find(".mvp-playlist-item:not(.mvp-pagination-hidden)").each(function(){a.push(k(this))});hd[Xa].media_id=a}function cg(a){a+=1;var b='<div class="mvp-pagination-container">';1<a&&(b+='<div class="mvp-pagination-page mvp-pagination-prev" data-page-id="prev" title="'+c.paginationPreviousBtnTitle+'">'+c.paginationPreviousBtnText+"</div>");3<a&&(b+='<div class="mvp-pagination-page mvp-pagination-start" data-page-id="0">1</div><div class="mvp-pagination-dots">...</div>');
if(0<a-2){var d=a-2;b+='<div class="mvp-pagination-page" data-page-id="'+(d-1)+'">'+d+"</div>"}0<a-1&&(d=a-1,b+='<div class="mvp-pagination-page" data-page-id="'+(d-1)+'">'+d+"</div>");d=a;b+='<div class="mvp-pagination-page mvp-pagination-currentpage" data-page-id="'+(d-1)+'">'+d+"</div>";a+1<Dc+1&&(d=a+1,b+='<div class="mvp-pagination-page" data-page-id="'+(d-1)+'">'+d+"</div>");a+2<Dc+1&&(d=a+2,b+='<div class="mvp-pagination-page" data-page-id="'+(d-1)+'">'+d+"</div>");a<Dc-2&&(d=Dc,b+='<div class="mvp-pagination-dots">...</div><div class="mvp-pagination-page mvp-pagination-end" data-page-id="'+
(d-1)+'">'+d+"</div>");a<Dc&&(b+='<div class="mvp-pagination-page mvp-pagination-next" data-page-id="next" title="'+c.paginationNextBtnTitle+'">'+c.paginationNextBtnText+"</div>");b+="</div>";je?je.html(b):n.append('<div class="mvp-pagination-wrap">'+b+"</div>");ki||(ki=!0,je=n.find(".mvp-pagination-wrap").on("click",".mvp-pagination-page:not(.mvp-pagination-currentpage)",function(){if(!x||Ga||Ja)return!1;Ja=!0;ke&&ke.removeClass("mvp-pagination-currentpage");ke=k(this).addClass("mvp-pagination-currentpage");
var e=k(this).attr("data-page-id");Xa="prev"==e?Xa-1:"next"==e?Xa+1:parseInt(e,10);null==hd[Xa].page?(dc=Xa*cc,aj()):(M.find(".mvp-playlist-item:visible").addClass("mvp-pagination-hidden").each(function(){k(this).find(".mvp-thumbimg").removeClass("mvp-visible")}),k(hd[Xa].media_id).each(function(){var f=k(this).removeClass("mvp-pagination-hidden").find(".mvp-thumbimg").removeClass("mvp-visible");setTimeout(function(){f.addClass("mvp-visible")},20)}),cg(Xa),Ja=!1)}),ke=je.find(".mvp-pagination-currentpage"))}
function li(){if(c.activateWhenParentVisible)if(n.parent().length&&"none"==n.parent().css("display"))var a=n.parent(),b=setInterval(function(){"none"!=a.css("display")&&(clearInterval(b),Gg())},500);else Gg();else Gg()}function ph(){var a={activePlaylist:cd,playlist:JSON.stringify(ka),date:Math.floor(Date.now()/1E3)};G&&(a.globalPlaylistData=G.wrap("<p>").parent().html());eb&&Wa&&ac&&Mb&&(a.loadMoreOnTotalScroll=!0,a.nextPageToken=Wa,a.loadMoreItem=ac,a.loadMoreType=Mb);ud&&ud.saveData(a)}function Gg(){setTimeout(function(){var a=
k('<div class="mvp-playlist-item" style="opacity:0;"></div>').prependTo(n);c.pi_size="h"==jd?a.outerWidth(!0):a.outerHeight(!0);a.remove();la.length?Ld():Hg.length?(Ga=!0,P.show(),k(q).trigger("playlistStartLoad",{instance:q,instanceName:c.instanceName}),Aa=Hg,Q=Aa.length,va()):c.activePlaylist&&!MVPUtils.isEmpty(c.activePlaylist)?hh(c.activePlaylist):kh()},50)}c=k.extend(!0,{},{vimeo_js:"https://player.vimeo.com/api/player.js",vimeoLoader_js:"js/vimeoLoader.js",youtube_js:"https://www.youtube.com/iframe_api",
youtubeLoader_js:"js/youtubeLoader.js",dotdot_js:"https://cdnjs.cloudflare.com/ajax/libs/jQuery.dotdotdot/3.2.3/jquery.dotdotdot.js",mCustomScrollbar_js:"https://cdnjs.cloudflare.com/ajax/libs/malihu-custom-scrollbar-plugin/3.1.5/jquery.mCustomScrollbar.concat.min.js",mCustomScrollbar_css:"css/jquery.mCustomScrollbar.css",hls_js:"https://cdn.jsdelivr.net/npm/hls.js@latest",dash_js:"https://cdn.dashjs.org/latest/dash.all.min.js",mediatags_js:"https://cdnjs.cloudflare.com/ajax/libs/jsmediatags/3.9.0/jsmediatags.min.js",
jquery_touchSwipe:"https://cdnjs.cloudflare.com/ajax/libs/jquery.touchswipe/1.6.19/jquery.touchSwipe.min.js",adsbygoogle_js:"//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",three_js:"https://cdnjs.cloudflare.com/ajax/libs/three.js/105/three.min.js",orbitControls_js:"https://unpkg.com/three@0.85.0/examples/js/controls/OrbitControls.js",md5_js:"https://cdnjs.cloudflare.com/ajax/libs/blueimp-md5/2.10.0/js/md5.min.js",equalizer_js:"js/equalizer.js",rel_js:"js/rel_pagination.js",share_js:"js/share_manager.js",
cache_js:"js/cache.js",playlist_navigation_js:"js/playlist_navigation.js",sourcePath:"",instanceName:"",queryInstance:"",playerType:"normal",createPlayer:!0,youtubePlayerType:"chromeless",blockYoutubeEvents:!0,vimeoPlayerType:"default",vimeoPlayerColor:"#00adef",blockVimeoEvents:!0,playerRatio:1.7777777,combinePlayerRatio:!0,playlistBottomHeight:300,playlistSideWidth:320,volume:.5,preload:"auto",autoPlay:!1,autoPlayAfterFirst:!1,autoPlayInViewport:!1,addResizeEvent:!0,mediaEndAction:"next",thumbScrollValue:50,
youtubePlayerColor:"red",verticalBottomSepearator:750,subtitleOffText:"Disabled",useMobileNativePlayer:!1,hideQualityMenuOnSingleQuality:!0,useLightboxAdvanceButtons:!0,minimizeOnScroll:!1,minimizeOnScrollOnlyIfPlaying:!1,aspectRatio:2,skipPoster:!1,randomPlay:!1,loopingOn:!0,captionStateKey:"mvp-caption-state",hidePlaylistOnFullscreenEnter:!0,focusVideoInTheater:!0,hidePlaylistOnTheaterEnter:!0,playlistItemContent:"thumb,title,description",playbackPositionKey:"mvp-playback-position",rightClickContextMenu:"custom",
tooltipClose:"Close",tooltipLightboxPrevious:"Previous",tooltipLightboxNext:"Next",closeSettingsMenuOnSelect:!1,playlistOpened:!0,hidePlaylistOnMinimize:!0,clickOnBackgroundClosesLightbox:!0,limitDescriptionText:150,togglePlaybackOnMultipleInstances:!0,showStreamVideoBitrateMenu:!0,showStreamAudioBitrateMenu:!0,useKeyboardNavigationForPlayback:!1,seekTime:10,scrollToPlayer:0,seekToChapterStart:!0,autoOpenChapterMenu:!0,hideChapterMenuOnChapterSelect:!1,useSwipeNavigation:!1,createAdMarkers:!0,useResumeScreen:!0,
showPrevNextVideoThumb:!0,playAdsOnlyOnce:!1,showAnnotationsOnlyOnce:!1,displayWatchedPercentage:!0,truncateWatch:!0,useSearchBar:!0,addPlaylistEvents:!0,idleTimeout:2E3,caption_breakPointArr:[{width:0,size:18},{width:480,size:20},{width:768,size:22},{width:1024,size:24},{width:1280,size:36}],youtubeAppId:"",youtubeThumbSize:"medium",vimeoThumbSize:"295x166",searchDescriptionInPlaylist:!0,minimizeClass:"mvp-minimize-br",whatsAppWarning:"Please share this content on mobile device!",comingnextTime:10,
showControlsBeforeStart:!1,useStatistics:!1,disableVideoSkip:!1,keepCaptionFontSizeAfterManualResize:!1,requirePosterFromFolder:!1,requireThumbnailsFromFolder:!1,useAudioEqualizer:!1,playbackPositionTime:null,mediaId:null,mediaTitle:null,paginationPreviousBtnTitle:"Previous",paginationPreviousBtnText:"Prev",paginationNextBtnTitle:"Next",paginationNextBtnText:"Next"},c);var Bf=MVPUtils.getUrlParameter(),Oc=[],Hg=[],vd=[],wd=[];if(decodeURIComponent(Bf["mvp-query-instance"])==c.instanceName&&(Object.keys(Bf).forEach(function(a){if(0==
a.indexOf("mvp-")){var b=a.substr(4),d=b;a=decodeURIComponent(Bf[a]).replace(/\+/g," ");-1==b.indexOf("path-")&&-1==b.indexOf("subtitle-")&&(d=b.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()}));a&&(c.hasOwnProperty(d)?("true"===a?a=!0:"false"===a&&(a=!1),c[d]=a):(a=a.split(",").map(function(e){return e.trim()}),-1<d.indexOf("path-")?vd.push({key:d,value:a}):-1<d.indexOf("subtitle-")?wd.push({key:d,value:a}):Oc.push({key:d,value:a})))}}),vd.length&&(vd=MVPUtils.regroupArray(vd),Oc.push({key:"path",
value:vd})),wd.length&&(wd=MVPUtils.regroupArray(wd),Oc.push({key:"subtitles",value:wd})),wd=vd=null,Oc.length)){var qa,Cf,Ig=Oc.length,bj=Oc[0].value.length;for(Cf=0;Cf<bj;Cf++){var Jg={};for(qa=0;qa<Ig;qa++){var qe=Oc[qa];var xd=qe.value[Cf];-1==qe.key.indexOf("path-")&&-1==qe.key.indexOf("subtitle-")&&("true"===xd?xd=!0:"false"===xd&&(xd=!1),Jg[qe.key]=xd,"type"===qe.key&&(Jg.origtype=xd))}Hg.push(Jg)}}Bf=null;var q=this,za=MVPUtils.isMobile(),mi=c.useSwipeNavigation&&"ontouchstart"in window,cb=
!0,n=k(this);c.hidePlayerUntilPlaylistStartLoad?n.addClass("mvp-player-force-hidden"):n.css("display","block");var ne=0;if("wall"==c.playlistPosition||"lightbox"==c.playerType){var Kg='<div class="mvp-lightbox-wrap"><div class="mvp-lightbox"><div class="mvp-lightbox-inner"><div class="mvp-lightbox-content-inner"><div class="mvp-lightbox-close" title="'+c.tooltipClose+'"><svg viewBox="0 0 384 512"><path d="M217.5 256l137.2-137.2c4.7-4.7 4.7-12.3 0-17l-8.5-8.5c-4.7-4.7-12.3-4.7-17 0L192 230.5 54.8 93.4c-4.7-4.7-12.3-4.7-17 0l-8.5 8.5c-4.7 4.7-4.7 12.3 0 17L166.5 256 29.4 393.2c-4.7 4.7-4.7 12.3 0 17l8.5 8.5c4.7 4.7 12.3 4.7 17 0L192 281.5l137.2 137.2c4.7 4.7 12.3 4.7 17 0l8.5-8.5c4.7-4.7 4.7-12.3 0-17L217.5 256z"></path></svg></div>';
c.useLightboxAdvanceButtons&&(Kg+='<div class="mvp-lightbox-prev" title="'+c.tooltipLightboxPrevious+'"><svg viewBox="0 0 256 512"><path d="M238.475 475.535l7.071-7.07c4.686-4.686 4.686-12.284 0-16.971L50.053 256 245.546 60.506c4.686-4.686 4.686-12.284 0-16.971l-7.071-7.07c-4.686-4.686-12.284-4.686-16.97 0L10.454 247.515c-4.686 4.686-4.686 12.284 0 16.971l211.051 211.05c4.686 4.686 12.284 4.686 16.97-.001z"></path></svg></div><div class="mvp-lightbox-next" title="'+c.tooltipLightboxNext+'"><svg viewBox="0 0 256 512"><path d="M17.525 36.465l-7.071 7.07c-4.686 4.686-4.686 12.284 0 16.971L205.947 256 10.454 451.494c-4.686 4.686-4.686 12.284 0 16.971l7.071 7.07c4.686 4.686 12.284 4.686 16.97 0l211.051-211.05c4.686-4.686 4.686-12.284 0-16.971L34.495 36.465c-4.686-4.687-12.284-4.687-16.97 0z"></path></svg></div>');
Kg+="</div></div></div>";var Ba=k(Kg);if("wall"==c.playlistPosition){Ba.addClass(n.attr("id")).prependTo(n);var Wb=Ba.find(".mvp-lightbox-content-inner").append(n.find(".mvp-player-wrap"));n.find(".mvp-playlist-holder").prependTo(n)}else"lightbox"==c.playerType&&(Ba.addClass(n.attr("id")).appendTo(k("body")),Wb=Ba.find(".mvp-lightbox-content-inner").append(n.addClass("mvp-is-lightbox")));var cj=Ba.find(".mvp-lightbox");Ba.find(".mvp-lightbox-content");var pc=Ba.find(".mvp-lightbox-inner");var dj=
Ba.find(".mvp-lightbox-close");var ej=Ba.find(".mvp-lightbox-prev");var fj=Ba.find(".mvp-lightbox-next");ne=2*parseInt(Wb.css("padding"),10)}var ia=n.find(".mvp-player-wrap"),ea=n.find(".mvp-media-holder").show(),U=n.find(".mvp-playlist-holder"),fg=n.find(".mvp-playlist-inner"),M=n.find(".mvp-playlist-content"),ni=n.find(".mvp-playlist-filter-msg"),ai=n.find(".mvp-subtitle-holder").css("display","none"),Ia=n.find(".mvp-subtitle-holder-inner").attr("aria-hidden",!0),Tb=n.find(".mvp-annotation-holder").css("display",
"none"),K=n.find(".mvp-player-holder").show(),Ob,Hc,Zd,ae,na,kf,ce,Ua=n.find(".mvp-player-controls"),Fi=n.find(".mvp-player-controls-bottom"),hb=n.find(".mvp-playback-toggle"),Kc=n.find(".mvp-media-time-current").html("00:00"),pd=n.find(".mvp-media-time-separator"),fc=n.find(".mvp-media-time-total").html("00:00"),Yb=n.find(".mvp-preview-seek-wrap"),ui=n.find(".mvp-preview-seek-inner"),ti=n.find(".mvp-preview-seek-time-current"),$a=n.find(".mvp-seekbar"),Qa=n.find(".mvp-progress-bg"),di=n.find(".mvp-load-level"),
Ad=n.find(".mvp-progress-level"),de=n.find(".mvp-volume-wrapper"),Uc=n.find(".mvp-volume-toggle"),Sa=n.find(".mvp-volume-seekbar"),Sc=n.find(".mvp-volume-bg"),vi=n.find(".mvp-volume-level"),Hd=n.find(".mvp-info-holder"),nd=n.find(".mvp-info-toggle").hide(),Uh=n.find(".mvp-player-title"),Vh=n.find(".mvp-player-desc"),$b=n.find(".mvp-pwd-holder"),Ge=n.find(".mvp-pwd-field"),Rf=n.find(".mvp-pwd-error").text(),rc=n.find(".mvp-playlist-toggle"),P=n.find(".mvp-player-loader").show(),Y=n.find(".mvp-big-play"),
Lg=n.find(".mvp-loop-toggle"),Mg=n.find(".mvp-shuffle-toggle"),od=n.find(".mvp-download-toggle").hide(),Eg=n.find(".mvp-share-toggle"),Id=n.find(".mvp-share-holder"),Je=n.find(".mvp-resume-holder"),ic,Wh=n.find(".mvp-live-note"),Ya=n.find(".mvp-upnext-wrap"),pf=Ya.find(".mvp-upnext-thumb"),sg=Ya.find(".mvp-upnext-title"),Th=Ya.find(".mvp-upnext-duration"),Fa=n.find(".mvp-upnext-wrap2"),Vf=Fa.find(".mvp-upnext-thumb"),Df=Fa.find(".mvp-upnext-header"),Wf=Fa.find(".mvp-upnext-title"),Xf=Fa.find(".mvp-upnext-duration"),
oe=n.find(".mvp-next-toggle"),pe=n.find(".mvp-previous-toggle"),ge=n.find(".mvp-rewind-toggle"),ee=n.find(".mvp-skip-backward-toggle"),fe=n.find(".mvp-skip-forward-toggle"),Zb=n.find(".mvp-settings-toggle"),Wg=n.find(".mvp-playback-rate-menu"),ze=n.find(".mvp-quality-menu"),Xg=n.find(".mvp-quality-settings-menu"),Cd=n.find(".mvp-subtitle-menu"),Yg=n.find(".mvp-subtitle-settings-menu"),uf=n.find(".mvp-audio-language-menu");n.find(".mvp-audio-language-menu-holder");var Xh=n.find(".mvp-audio-language-toggle").hide(),
wg=n.find(".mvp-audio-language-settings-menu"),ld=n.find(".mvp-pip-toggle").hide(),wc=n.find(".mvp-cc-toggle").hide(),qc=n.find(".mvp-theater-toggle"),Vc=n.find(".mvp-unmute-toggle"),Af=n.find(".mvp-comingnext-holder"),ii=n.find(".mvp-comingnext-poster-holder"),ji=n.find(".mvp-comingnext-data-title"),Dg=n.find(".mvp-comingnext-timer-circle-stroke"),gj=n.find(".mvp-comingnext-timer-wrap"),hj=n.find(".mvp-comingnext-cancel"),fh=n.find(".mvp-redirect-login-holder-download"),gh=n.find(".mvp-redirect-login-holder-watch"),
Jd,Mc=n.find(".mvp-rel-holder"),Gd=n.find(".mvp-chapter-toggle").hide(),ub=n.find(".mvp-chapter-menu-holder"),Yc=n.find(".mvp-chapter-title"),Ed=n.find(".mvp-chapter-menu"),lf=n.find(".mvp-ad-seekbar"),og=n.find(".mvp-ad-progress-bg"),bi=n.find(".mvp-ad-load-level"),ci=n.find(".mvp-ad-progress-level"),Yi=n.find(".mvp-ad-info-time"),he=n.find(".mvp-ad-skip-btn"),gi=n.find(".mvp-ad-skip-msg"),xg=n.find(".mvp-ad-skip-msg-text"),$h=xg.html(),Zh=n.find(".mvp-ad-skip-msg-end"),fi=n.find(".mvp-ad-skip-thumb"),
pb=n.find(".mvp-ad-controls");if(c.playerClass)var mc=c.playerClass;else{var oi=c.skin,xb=c.navigationType||"",F=c.playlistPosition||"",Ef="",rb=c.playlistStyle||"",Ng=c.playerShadow||"";"ht"!=F&&"hb"!=F||"buttons"!=xb||"dot"!=rb&&"drot"!=rb||(Ef=c.navigationStyle);"no-playlist"==F&&(rb="");"vrb"!=F&&"vlb"!=F&&"vb"!=F&&"ht"!=F&&"hb"!=F&&(Ef=xb="");"vrb"!=F&&"vlb"!=F&&"vb"!=F&&"ht"!=F&&"hb"!=F&&"no-playlist"!=F&&(Ng="");"outer"==F||"wall"==F?"gdot"!=rb&&"gdbt"!=rb&&(rb="gdot"):("vrb"==F||"vlb"==F||
"vb"==F||"ht"==F||"hb"==F)&&"dot"!=rb&&"drot"!=rb&&(rb="drot");var jd="v";if("ht"==F||"hb"==F)jd="h";mc="mvp-player mvp-skin-"+oi;-1<oi.indexOf("flat")&&(mc+=" mvp-skin-flat");MVPUtils.isEmpty(F)||(mc+=" mvp-"+F);MVPUtils.isEmpty(xb)||(mc+=" mvp-nt-"+xb);MVPUtils.isEmpty(Ef)||(mc+=" mvp-ns-"+Ef);MVPUtils.isEmpty(rb)||(mc+=" mvp-ps-"+rb);MVPUtils.isEmpty(Ng)||(mc+=" mvp-"+Ng);c.navigationDirection=jd;c.navigationType=xb}n.addClass(mc);"wall"==F?(c.playerType="lightbox",c.playlistOpened=!0,rc.remove()):
"outer"==F?(c.playerType="normal",c.minimizeOnScroll=!1,c.hidePlaylistOnFullscreenEnter=!1):"no-playlist"==F&&(cb=!1,U.remove(),rc.remove());"lightbox"==c.playerType&&(c.autoPlayInViewport=!1,c.minimizeOnScroll=!1,c.hidePlaylistOnFullscreenEnter=!1,qc.remove());c.minimizeOnScroll&&c.useMinimizeCloseBtn&&ia.append('<div class="mvp-minimize-close mvp-contr-btn" title="'+c.tooltipClose+'"><svg role="img" viewBox="0 0 320 512"><path d="M207.6 256l107.72-107.72c6.23-6.23 6.23-16.34 0-22.58l-25.03-25.03c-6.23-6.23-16.34-6.23-22.58 0L160 208.4 52.28 100.68c-6.23-6.23-16.34-6.23-22.58 0L4.68 125.7c-6.23 6.23-6.23 16.34 0 22.58L112.4 256 4.68 363.72c-6.23 6.23-6.23 16.34 0 22.58l25.03 25.03c6.23 6.23 16.34 6.23 22.58 0L160 303.6l107.72 107.72c6.23 6.23 16.34 6.23 22.58 0l25.03-25.03c6.23-6.23 6.23-16.34 0-22.58L207.6 256z"></path></svg></div>');
n.find(".mvp-playlist-bar").length&&("h"==jd&&U.height(U.height()+n.find(".mvp-playlist-bar").height()),"wall"==F||"outer"==F)&&(n.find(".mvp-playlist-bar").prependTo(fg),n.find(".mvp-playlist-filter-msg").remove());"default"==c.youtubePlayerType?c.blockYoutubeEvents=!1:mi&&(c.blockYoutubeEvents=!0);c.breakPointArr&&c.breakPointArr.length&&MVPUtils.keysrt(c.breakPointArr,"width");c.elementsVisibilityArr&&c.elementsVisibilityArr.length&&MVPUtils.keysrt(c.elementsVisibilityArr,"width");c.caption_breakPointArr&&
c.caption_breakPointArr.length&&MVPUtils.keysrt(c.caption_breakPointArr,"width");c.wrapperMaxWidth&&("lightbox"==c.playerType?pc.css("max-width",c.wrapperMaxWidth):n.css("max-width",c.wrapperMaxWidth));var ij=MVPUtils.isIOS(),jj=MVPUtils.isiPhoneIpod();MVPUtils.isAndroid();var si=MVPUtils.hasFullscreen(),Xi=MVPUtils.hasDownloadSupport(),kj=MVPUtils.volumeCanBeSet(),lj=MVPUtils.supportsWebGL(),th=MVPUtils.canPlayMp4(),sh=MVPUtils.canPlayMp3(),rh=MVPUtils.canPlayWav(),mj=MVPUtils.isChrome();MVPUtils.isSafari();
var Bd=MVPUtils.hasLocalStorage(),dh=document.pictureInPictureEnabled,pi=c.rememberPlaybackPosition&&Bd,re=c.instanceName+c.playbackPositionKey,vc=c.instanceName+c.captionStateKey,Ue=c.playlistItemContent.replace(/\s+/g,"").split(","),Mi=c.vimeoThumbSize.substr(0,c.vimeoThumbSize.indexOf("x")),Qd=c.useAudioEqualizer&&(window.AudioContext||window.webkitAudioContext),Zf=k(c.playlistList),ma=c.autoPlay,J=c.volume,mb=c.volume,Vg=c.volume||.5,gb,Lf,Sf,x=!1,Ga=!0,Ja,Mb,cc,gd,dc,Ye,Ne,We,Xe,Ze,$e,af,bf,
ac,Wa,eb,Nb=c.addMoreOnTotalScroll;q=this;var Ff=k("body"),Ra=k(window),Pa=k(document),Ug=k("html"),Sg=0,Tg=0,ki,ke,je,Dc,Xa,hd=[],Og,S,wb,xa,Na,g,rd,cd,ua,Q,ch="scroll.minimize"+c.instanceName,gg="scroll.autoplay"+c.instanceName,ei,bb,rg,ue,nb,Hb,Ib,tb=[],Fe,nj="audio video video_360 image image_360 youtube_single vimeo_single hls dash".split(" "),W,jf,vf,vh,Ca,Eh=window.MediaSource,xh,Fh,Bc,$f,Bh,Gc,w,hg,zb,Sd,X,bc,xc,r,Ma,Ch,gf,Va,Lc,D,Ih,pg,ug,zh,rf,Ka,Ic,y,Cb,sa=c.vimeoPlayerType,Kh,Rh,Jh,Qh,
$d,be,Lh,Sh,vg,Ah,Fb=0,qd=0,tf=0,sf,Ab=!0,Wd,Dh,Pb,hc,kd,ig,Bb,pa,Qb,hf,md,Xd,Rb,Sb,Gh,ng,Vd,kg,lg,Ud,qb,Hh,Fc,oh,id,df,Pd=[],ca,l,O,T,fa,Tf,yb,Jb,Kb,Ie,db=!0,zc,Ac,Lb,eg,dd=-1,bg,ka=[],ag=[],la=[],Aa=[],G,bd,of,Re,Se,Oe,Pe,Qe,ye,Ae,wf,Db,Wc,Ce=[],kb=[],oa,hi,Be,fd,ob,Cc,Ve,qi,mh,ec,La,dg,Ta=[],Fd,Xc,De,Ee,lb,vb,zg,Ag,yd,Le,Yd=0,Td,Pg,R,ib=[],ya,Ub=[],ab=[],yf,me,le,yg,Rd,jc=[],Gb=null,Qg,Jc,Me,nf,Nc,td,xf,sd,ie,He,ud,Md,Ec=c.useCache&&"indexedDB"in window&&!0,se,Rg,$c,tg=!0;c.currentUserRoles&&(se=
c.currentUserRoles.split(","));c.downloadVideoUserRoles&&(Rg=c.downloadVideoUserRoles.split(","));se&&Rg&&(tg=MVPUtils.arrayContainsAnotherArray(Rg,se));c.playlistContent&&(M=k(c.playlistContent));window.playlistScrollLoading=!1;"undefined"===typeof window.mvp_mediaArr&&(window.mvp_mediaArr=[]);mvp_mediaArr.push({inst:q,id:c.instanceName});0==M.length&&(M=k('<div style="display:none;"></div>'),F="no-playlist",cb=!1,xb="");var fb=n.find(".mvp-load-more-btn").on("click",function(){if(!x||Ja)return!1;
eb?q.loadMore():Nb&&Fg();fb.css("opacity",0)});if(mi)if("undefined"===typeof k.fn.swipe){var ra=document.createElement("script");ra.type="text/javascript";var oj=MVPUtils.relativePath(c.jquery_touchSwipe)?c.jquery_touchSwipe:MVPUtils.qualifyURL(c.sourcePath+c.jquery_touchSwipe);ra.src=oj;ra.onload=ra.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||p()};ra.onerror=function(){alert("Error loading "+this.src)};var nc=document.getElementsByTagName("script")[0];nc.parentNode.insertBefore(ra,
nc)}else p();if("lightbox"==c.playerType){dj.on("click",function(){q.closeLightbox()});if(c.clickOnBackgroundClosesLightbox)cj.on("click",function(a){a.target==this&&q.closeLightbox()});ej.on("click",function(a){a.stopImmediatePropagation();te()});fj.on("click",function(a){a.stopImmediatePropagation();Eb()})}od.on("click",function(a){k(q).trigger("mediaDownload",{instance:q,instanceName:c.instanceName,media:g});(c.restrictDownloadForLoggedInUser&&!c.isUserLoggedIn||!tg)&&Zc("download");c.useStatistics&&
Cg("mvp_download_count",wb)});c.theaterElement&&!MVPUtils.isEmpty(c.theaterElement)&&c.theaterElementClass&&!MVPUtils.isEmpty(c.theaterElementClass)||delete c.theaterElement;if(c.autoPlayInViewport||c.autoPlayAfterFirst)ma=!1;if(ma||c.autoPlayInViewport)if(J=0,c.autoPlayInViewport&&0!=mb)Pa.on("mousedown.apmvp, keydown.apmvp",function(){Pa.off("mousedown.apmvp, keydown.apmvp");bb||(bb=!0,!Fc&&r&&(r.volume=mb,r.muted=!1))});za&&c.displayPosterOnMobile&&(ma=!1,c.autoPlayInViewport=!1);cb||(c.playlistOpened=
!1,U.remove());c.playlistOpened?U.show():U.hide();jj&&ld.remove();lj?c.vrInfoImage&&(ic=k('<img class="mvp-vr-info" src="'+c.vrInfoImage+'" alt="drag">').insertAfter(ea)):(Ab=!1,mj&&console.log("Turn Hardware Acceleration On Within Chrome Browser to enable 360 videos!"));"ht"!=F&&"hb"!=F||"v"!=jd||U.css({height:c.playlistBottomHeight});pi&&(window.attachEvent||window.addEventListener)(ij?"pagehide":"beforeunload",function(a){window.event&&(window.event.cancelBubble=!0);if(!x||!l)return!1;a={activePlaylist:cd,
volume:J,activeItem:wb,resumeTime:parseInt(q.getCurrentTime(),10)};localStorage.setItem(re,JSON.stringify(a))});Ya.find(".mvp-upnext-close").on("click",function(){Ya.removeClass("mvp-upnext-on mvp-upnext-visible");of=!0});pf.on("click",function(){Ya.removeClass("mvp-upnext-on mvp-upnext-visible");Eb()});sg.on("click",function(){Ya.removeClass("mvp-upnext-on mvp-upnext-visible");Eb()});he.on("click",function(){if(!x||!R||!le)return!1;R&&k(q).trigger("adSkip",{instance:q,instanceName:c.instanceName,
media:g});gc()});Tb.on("click",".mvp-annotation-close",function(){if(c.showAnnotationsOnlyOnce){var a=k(this).closest(".mvp-annotation"),b=a.attr("data-id"),d=jc.length;a.remove();for(a=0;a<d;a++)if(b==jc[a].id){jc.splice(a,1);break}}else k(this).closest(".mvp-annotation").hide()});gj.on("click",function(){Eb()});hj.on("click",function(){yc();Yh()});if("ontouchstart"in window){var Gf="touchstart.ap mousedown.ap";var sb="touchmove.ap mousemove.ap";var Rc="touchend.ap mouseup.ap"}else window.PointerEvent?
(Gf="pointerdown.ap",sb="pointermove.ap",Rc="pointerup.ap"):(Gf="mousedown.ap",sb="mousemove.ap",Rc="mouseup.ap");ea.on("click",function(a){if(!x||c.displayPosterOnMobile||"image"==l||"video_360"==O||"image_360"==O)return!1;db?S?R&&q.togglePlayback():q.togglePlayback():q.togglePlayback()});(c.searchSelector?k(c.searchSelector):n.find(".mvp-search-field")).on("keyup",function(){if(0==Q)return!1;var a=k(this).val().toLowerCase(),b,d=0;for(b=0;b<Q;b++){var e=M.children(".mvp-playlist-item").eq(b);var f=
e.find(".mvp-playlist-title").length?e.find(".mvp-playlist-title").html().toLowerCase():"";c.searchDescriptionInPlaylist&&e.find(".mvp-playlist-description").length&&(f+=e.find(".mvp-playlist-description").html().toLowerCase());-1<f.indexOf(a)?M.children(".mvp-playlist-item").eq(b).show():(M.children(".mvp-playlist-item").eq(b).hide(),d++)}d==Q?ni.show():ni.hide()});var ta="normal",Kf;Pa.on("fullscreenchange.mvp mozfullscreenchange.mvp MSFullscreenChange.mvp webkitfullscreenchange.mvp",function(a){Kf==
c.instanceName&&("fullscreen"==ta?I():B())});var Xb=n.find(".mvp-fullscreen-toggle").on("click",function(){u()});Xb.find(".mvp-btn-normal").hide();Xb.find(".mvp-btn-fullscreen").show();if("disabled"==c.rightClickContextMenu)n.on("contextmenu",function(){return!1});else if("custom"==c.rightClickContextMenu){var zd=function(){Ff.off("click.apcc",zd);lc.hide()};var lc=K.find(".mvp-context-menu").on("contextmenu",function(a){return!1});lc.find(".mvp-context-copy-video-url").on("click",function(a){a=window.location.href+
q.getCurrentMediaUrl();var b=document.createElement("input");b.setAttribute("id","mvp-copy-url");document.body.appendChild(b);document.getElementById("mvp-copy-url").value=a;b.select();try{document.execCommand("copy")}catch(d){}document.body.removeChild(b)});var ve=lc.find(".mvp-context-fullscreen").on("click",function(a){u()});K.on("contextmenu",function(a){if(c.displayPosterOnMobile||k(a.target).hasClass("mvp-volume-level")||k(a.target).hasClass("mvp-volume-bg")||k(a.target).hasClass("mvp-progress-level")||
k(a.target).hasClass("mvp-progress-bg")||k(a.target).hasClass("mvp-load-level")||"block"==$b.css("display")||R)return!1;a.preventDefault();a.stopPropagation();var b=K[0].getBoundingClientRect(),d=lc.outerWidth(!0),e=lc.outerHeight(!0),f=parseInt(a.pageX-Ra.scrollLeft()-b.left,10);a=parseInt(a.pageY-Ra.scrollTop()-b.top,10);f>K.width()-d&&(f-=d);a>K.height()-e&&(a-=e);lc.css({left:f+"px",top:a+"px"}).show();Ff.one("click.apcc",zd)}).on("mouseleave",zd);Ff.on("mouseleave.mvp",zd);Pa.on("contextmenu.mvp",
zd).keyup(function(a){27==a.keyCode&&zd()})}var ba=n.find(".mvp-tooltip");if(!za)n.on("mouseenter","[data-tooltip]",function(a){a=k(this);var b=a.attr("data-tooltip");if(MVPUtils.isEmpty(b))return!1;var d=ia.hasClass(c.minimizeClass)?ia:Hb?ia:n,e=d[0].getBoundingClientRect(),f=a[0].getBoundingClientRect();ba.text(b);if(void 0!=a.attr("data-tooltip-position"))if("left"==a.attr("data-tooltip-position"))var m=parseInt(f.top-e.top-ba.outerHeight()/2+a.outerHeight()/2),h=parseInt(f.left-e.left-ba.outerWidth()-
3);else"bottom"==a.attr("data-tooltip-position")&&(m=parseInt(f.top-e.top+a.outerHeight()),h=parseInt(f.left-e.left-ba.outerWidth()/2+a.outerWidth()/2));else m=parseInt(f.top-e.top-ba.outerHeight()),h=parseInt(f.left-e.left-ba.outerWidth()/2+a.outerWidth()/2);0>h?h=0:h+ba.outerWidth()>d.width()&&(h=d.width()-ba.outerWidth());0>m+e.top&&(m=parseInt(f.top-e.top+ba.outerHeight()+15));ba.css({left:h+"px",top:m+"px"}).show()}).on("mouseleave","[data-tooltip]",function(a){ba.hide()});var we,Ea;$a.on(Gf,
function(a){if(x){if(qi||c.disableVideoSkip||c.seekToChapterStart&&Ta.length||R)return!1;A(a);return!1}});if(!za){var Hf=function(){if(S||g.duration)$a.off(sb,N).off("mouseout",Hf),Pa.off("mouseout.mvp",Hf),g.previewSeek&&Yb.hide(),ba.hide()};$a.on("mouseover",function(){if(S||g.duration)$a.on(sb,N).on("mouseout",Hf),Pa.on("mouseout.mvp",Hf)})}var tc=Sa.hasClass("mvp-volume-horizontal");tc?Sa.width():Sa.height();var Tc=tc?Sc.width():Sc.height(),xe;0>J?J=0:1<J&&(J=1);if(!kj||za)Sa.remove(),Uc.on("click",
function(a){da()});else Uc.on("click",function(a){za&&0!=Sa.length&&!Sa.hasClass("mvp-force-hide")||da()});Sa.on(Gf,function(a){C(a);return!1});if(!za){var If=function(){Sa.off(sb,oc).off("mouseout",If);Pa.off("mouseout.mvp",If);ba.hide()};Sa.on("mouseover",function(){Sa.on(sb,oc).on("mouseout",If);Pa.on("mouseout.mvp",If)})}He||"undefined"!==typeof MVPShareManager||(ra=document.createElement("script"),ra.type="text/javascript",ra.src=MVPUtils.qualifyURL(c.sourcePath+c.share_js),ra.onload=ra.onreadystatechange=
function(){this.readyState&&"complete"!=this.readyState||(He=new MVPShareManager(c))},ra.onerror=function(){alert("Error loading "+this.src)},nc=document.getElementsByTagName("script")[0],nc.parentNode.insertBefore(ra,nc));var qf=n.find(".mvp-settings-wrap"),V=n.find(".mvp-settings-holder");n.find(".mvp-settings-holder-inner");var uc=n.find(".mvp-settings-home");Zb.on("click",function(){V.hasClass("mvp-holder-visible")?V.one("transitionend",function(){V.css({display:"none",width:"auto",height:"auto"});
V.find(".mvp-settings-menu").css("display","none");uc.css("display","block");V.css("maxHeight","none").removeClass("mvp-settings-holder-scrollable")}).removeClass("mvp-holder-visible"):(V.css("display","block"),setTimeout(function(){V.addClass("mvp-holder-visible")},20),lb&&Dd(!1))});uc.find(".mvp-menu-item").on("click",function(){var a=k(this).attr("data-target"),b=V.width(),d=V.height();uc.css("display","none");V.find(".mvp-settings-menu").css("display","none");V.css("maxHeight","none").removeClass("mvp-settings-holder-scrollable");
V.css({width:"auto",height:"auto"});a=V.find("."+a).css("display","block");var e=a.width(),f=a.height();f>K.height()-60&&V.css("maxHeight",K.height()-60).addClass("mvp-settings-holder-scrollable");V.css({width:b+"px",height:d+"px"});setTimeout(function(){V.css({width:e+"px",height:f+"px"})},20)});V.find(".mvp-menu-header").on("click",function(){Ha()});Wg.find(".mvp-menu-item").on("click",function(){if(k(this).hasClass("mvp-menu-active"))return c.closeSettingsMenuOnSelect?Zb.click():Ha(),!1;var a=
k(this).attr("data-value");g.playbackRate=a;Z(a);S&&q.setPlaybackRate(a);c.closeSettingsMenuOnSelect?Zb.click():Ha()});if(function(){var a=!1,b=document.URL,d=b.indexOf("://")+3,e=b.indexOf("/",d);b=b.substring(d,e).split(".");d=[1059,653,969,1728];e=[];var f,m,h=b.length;for(f=0;f<h;f++){var t=b[f];var z=t.length;var ha=m=0;for(m;m<z;m++){var aa=t.charAt(m);ha+=aa.charCodeAt(0)}e.push(ha)}f=0;h=e.length;z=d.length;f;a:for(;f<h;f++)for(m=0,m;m<z;m++)if(e[f]==d[m]){a=!0;break a}return a}()){this.toggleSubtitle=
function(){if(!x||!l)return!1;if(g&&g.subtitles&&Bd&&localStorage.getItem(vc)){var a=JSON.parse(localStorage.getItem(vc));(a=a.active?c.subtitleOffText:a.value)&&q.setSubtitle(a)}};this.setSubtitle=function(a){if(!x||!l)return!1;Ia.empty();ai.show();if(a==c.subtitleOffText||""==a)""==a&&(a=c.subtitleOffText),Wc=!1,oa=null,Db&&Db.removeClass("mvp-menu-active"),Db=Cd.find(".mvp-menu-item[data-label='"+a+"']").addClass("mvp-menu-active"),wc.addClass("mvp-btn-disabled");else{if(Ce[a])Wc=!0,oa=null,Db&&
Db.removeClass("mvp-menu-active"),Db=Cd.find(".mvp-menu-item[data-label='"+a+"']").addClass("mvp-menu-active"),kb=Ce[a],Gb=null,sc(!0);else{var b,d=g.subtitles.length;for(b=0;b<d;b++){var e=g.subtitles[b];if(e.label==a){Wc=!1;oa=null;Db&&Db.removeClass("mvp-menu-active");Db=Cd.find(".mvp-menu-item[data-label='"+a+"']").addClass("mvp-menu-active");"hls"==O?xi(e):"dash"!=O&&Zg(e);break}}}wc.removeClass("mvp-btn-disabled")}d=g.subtitles.length;for(b=0;b<d;b++)e=g.subtitles[b],delete e["default"],e.value==
a&&(e["default"]=!0);V.find(".mvp-subtitle-menu-value").text(a);Bd&&(b=localStorage.getItem(vc)?JSON.parse(localStorage.getItem(vc)):{},a==c.subtitleOffText?b.active=!1:(b.active=!0,b.value=a),localStorage.setItem(vc,JSON.stringify(b)))};if(c.useKeyboardNavigationForPlayback)Pa.on("keyup.mvp",function(a){a.stopImmediatePropagation();a.preventDefault();if(!x)return!1;var b=a.keyCode;a=k(a.target);if(a.hasClass("mvp-search-field")||a.hasClass("mvp-pwd-field"))return!1;if(37==b)q.seekBackward();else if(39==
b)q.seekForward();else if(70==b)u();else if(84==b){if("fullscreen"==ta)return!1;qc.click()}else 32==b?q.togglePlayback():77==b?da():67==b?q.toggleSubtitle():107==b?oa&&(b=parseInt(Ia.css("fontSize"),10)+1,Ia.css("fontSize",b+"px")):109==b&&oa&&(b=parseInt(Ia.css("fontSize"),10)-1,10>b&&(b=10),Ia.css("fontSize",b+"px"))});var ri=[hb,rc,Y,de,nd,Eg,Lg,Mg,oe,pe,ge,ee,fe,ld,qc,wc,Gd,n.find(".mvp-chapter-menu-close"),n.find(".mvp-pwd-confirm"),n.find(".mvp-info-close"),n.find(".mvp-share-item"),n.find(".mvp-share-close"),
n.find(".mvp-redirect-login-close"),n.find(".mvp-minimize-close"),n.find(".mvp-resume-continue"),n.find(".mvp-resume-restart")];Ig=ri.length;for(qa=0;qa<Ig;qa++)k(ri[qa]).css("cursor","pointer").on("click",Ai);!za&&c.showPrevNextVideoThumb?(oe.on("mouseenter",function(){Df.html(Df.attr("data-next-title"));eh(oe,1)}).on("mouseleave",function(){Fa.removeClass("mvp-upnext-wrap2-visible")}),pe.on("mouseenter",function(){Df.html(Df.attr("data-prev-title"));eh(pe,-1)}).on("mouseleave",function(){Fa.removeClass("mvp-upnext-wrap2-visible")})):
Fa.remove();var L=new MVPPlaylistManager(c);k(L).on("MVPPlaylistManager.COUNTER_READY",function(a,b){console.log("counter",b);g=rd=null;Pg=of=rg=bc=!1;Td=null;ya=0;ib=[];ab=[];yf=null;Ub=[];yd=null;Qa.find(".mvp-ad-indicator").remove();Rd=!1;Qa.find(".mvp-chapter-indicator").remove();Yc.css("opacity",0);Ta=[];Xc=Fd=!1;Ee=De=null;$a.removeClass("mvp-seekbar-chapters");Qg=!1;Jc=null;l&&kc();wb=b;g=ka[wb].data;Ei();$c=!0;se&&g.lockVideoUserRoles&&($c=MVPUtils.arrayContainsAnotherArray(g.lockVideoUserRoles,
se));Qg||(Qg=!0,g.annotationSection&&(Jc=g.annotationSection,0==Jc instanceof k&&(Jc=k(Jc))));if(!Pg)if(Pg=!0,g.adPre||g.adMid||g.adEnd){rd=g;if(g.adMid){var d=g.adMid.length;for(qa=0;qa<d;qa++){var e=g.adMid[qa];ab.push({begin:e.begin,data:e,type:e.type})}}if(g.adEnd){d=g.adEnd.length;for(qa=0;qa<d;qa++)e=g.adEnd[qa],Ub.push({data:e,type:e.type});ya=-1}if(g.adPre){d=g.adPre.length;for(qa=0;qa<d;qa++)e=g.adPre[qa],ib.push({data:e,type:e.type});ya=0;g=ib[ya].data;R=!0}}else g.adSection&&(yd=g.adSection,
0==yd instanceof k&&(yd=k(yd)),rd=g,yd.find(".mvp-ad").each(function(){var f=k(this);if(f.hasClass("mvp-ad-pre"))ib.push(f);else if(f.hasClass("mvp-ad-mid")){var m=parseInt(f.attr("data-begin"),10);ab.push({begin:m,data:f})}else f.hasClass("mvp-ad-end")&&Ub.push(f)}),ib.length?(ya=0,g=zf(ib[ya]),R=!0):Ub.length&&(ya=-1));k(q).trigger("mediaRequest",{instance:q,instanceName:c.instanceName,media:g});Od()}).on("MVPPlaylistManager.RANDOM_CHANGE",function(a,b){b?Mg.addClass("mvp-contr-btn-hover"):Mg.removeClass("mvp-contr-btn-hover")}).on("MVPPlaylistManager.LOOP_CHANGE",
function(a,b){b?Lg.addClass("mvp-contr-btn-hover"):Lg.removeClass("mvp-contr-btn-hover")});window.onYouTubeIframeAPIReady=function(){};q.toggleRel=function(){ie?Mc.one("transitionend",function(){Mc.css("display","none");ie=!1}).removeClass("mvp-holder-visible"):(Mc.css("display","block"),setTimeout(function(){Mc.addClass("mvp-holder-visible");ie=!0;sd.build()},20))};window.onbeforeunload=function(a){g&&yc()};if(c.addResizeEvent)Ra.on("resize",function(){if(!x)return!1;Og&&clearTimeout(Og);Og=setTimeout(jb,
250)});this.playMedia=function(){if(!x||!l||fa)return!1;if("audio"==l){if(w){var a=w.play();void 0!==a&&a.then(function(){})["catch"](function(b){Y.show();P.hide()})}}else"video"==l?X&&!S?(c.showPosterOnPause?na.hide():(na.hide().empty(),X=null),Y.hide(),ja()):r&&(a=r.play(),void 0!==a&&a.then(function(){})["catch"](function(b){Y.show();P.hide()})):"youtube"==l?X&&!S?(c.showPosterOnPause?na.hide():(na.hide().empty(),X=null),ja()):D.playVideo():"vimeo"==l&&(X&&!S?(c.showPosterOnPause?na.hide():(na.hide().empty(),
X=null),ja()):y.play());fa=!0};this.pauseMedia=function(){if(!x||!l||!fa)return!1;"audio"==l?w&&w.pause():"video"==l?r&&r.pause():"youtube"==l?D.pauseVideo():"vimeo"==l&&y.pause();fa=!1};this.togglePlayback=function(){if(!x||!l)return!1;if(!c.displayPosterOnMobile||!g.poster)if(Ra.off(gg),"audio"==l)if(X&&!S)0!=mb&&(J=mb),Y.hide(),P.show(),ja();else{if(w)if(w.paused){var a=w.play();void 0!==a&&a.then(function(){})["catch"](function(b){Y.show();P.hide()})}else w.pause()}else"video"==l?X&&!S?(c.showPosterOnPause?
na.hide():(na.hide().empty(),X=null),Y.hide(),P.show(),ja()):r&&(r.paused?(a=r.play(),void 0!==a&&a.then(function(){})["catch"](function(b){Y.show();P.hide()})):r.pause()):"youtube"==l?X&&!S?(c.showPosterOnPause?na.hide():(na.hide().empty(),X=null),Y.hide(),ja()):D&&(a=D.getPlayerState(),1==a?D.pauseVideo():2==a?D.playVideo():(-1==a||5==a||0==a)&&D.playVideo()):"vimeo"==l?X&&!S?(c.showPosterOnPause?na.hide():(na.hide().empty(),X=null),Y.hide(),ja()):y&&y.getPaused().then(function(b){b?y.play():y.pause()}):
"custom"==l&&X&&!S&&(c.showPosterOnPause?na.hide():(na.hide().empty(),X=null),Y.hide(),ja())};this.nextMedia=function(){if(!x)return!1;Eb()};this.previousMedia=function(){if(!x)return!1;te()};this.setVolume=function(a){if(!x)return!1;0>a?a=0:1<a&&(a=1);Oa(a)};this.toggleMute=function(){if(!x)return!1;da()};this.disableSeek=function(a){qi=a};this.seek=function(a){if(!x||!l)return!1;"audio"==l?w&&(w.currentTime=a):"video"==l?r&&(r.currentTime=a):"youtube"==l?D&&D.seekTo(a):"vimeo"==l&&y&&y.setCurrentTime(a)};
this.seekBackward=function(a){if(!x||!l)return!1;if("audio"==l){if(w)try{w.currentTime=Math.max(w.currentTime-(a||c.seekTime),0)}catch(d){console.log(d)}}else if("video"==l){if(r)try{r.currentTime=Math.max(r.currentTime-(a||c.seekTime),0)}catch(d){console.log(d)}}else if("youtube"==l){var b=Math.max(D.getCurrentTime()-(a||c.seekTime),0);D.seekTo(b)}else"vimeo"==l&&y.getCurrentTime().then(function(d){y.setCurrentTime(Math.max(d-(a||c.seekTime),0))})};this.seekForward=function(a){if(!x||!l)return!1;
if("audio"==l){if(w)try{w.currentTime=Math.min(w.currentTime+(a||c.seekTime),w.duration)}catch(d){console.log(d)}}else if("video"==l){if(r)try{r.currentTime=Math.min(r.currentTime+(a||c.seekTime),r.duration)}catch(d){console.log(d)}}else if("youtube"==l){var b=Math.min(D.getCurrentTime()+(a||c.seekTime),D.getDuration());D.seekTo(b)}else"vimeo"==l&&(0!=Fb&&0!=qd?(b=Math.min(qd+(a||c.seekTime),Fb),y.setCurrentTime(b)):y.getCurrentTime().then(function(d){y.getDuration().then(function(e){y.setCurrentTime(Math.min(d+
(a||c.seekTime),e))})}))};this.getCurrentMediaData=function(){return x?l?g:null:!1};this.getCurrentMediaUrl=function(){if(!x)return!1;if(!l)return"";var a=-1==window.location.href.indexOf("?")?"?":"&";var b="mvp-query-instance="+encodeURIComponent(c.instanceName),d=void 0!=g.mediaId?"&mvp-media-id="+g.mediaId:"&mvp-active-item="+wb,e=S&&"image"!=l?"&mvp-playback-position-time="+Math.floor(q.getCurrentTime()):"";a=a+b+"&mvp-scroll-to-player=1"+d+e;void 0!=g.mediaId&&-1==nj.indexOf(g.origtype)&&g.title&&
(b="&mvp-media-title="+encodeURIComponent(g.title),a+=b);return a};this.getCurrentTime=function(){if(!x||!l)return!1;if(!S)return"0";if("audio"==l)return w.currentTime;if("video"==l)return r.currentTime;if("youtube"==l)return D?D.getCurrentTime():"0";if("vimeo"==l)return qd};this.getDuration=function(){if(!x||!l)return!1;if("audio"==l)return w.duration;if("video"==l)return r.duration;if("youtube"==l)return D.getDuration();if("vimeo"==l)return Fb};this.getLoadProgress=function(){if(!x||!l)return!1;
var a;if("audio"==l){if("undefined"!==typeof w.buffered&&0!=w.buffered.length){try{var b=w.buffered.end(w.buffered.length-1)}catch(d){}isNaN(b)||(a=b/Math.floor(w.duration))}}else if("video"==l){if("undefined"!==typeof r.buffered&&0!=r.buffered.length){try{b=r.buffered.end(r.buffered.length-1)}catch(d){}isNaN(b)||(a=b/Math.floor(r.duration))}}else"youtube"==l?a=D.getVideoLoadedFraction():"vimeo"==l&&(a=tf);return a};this.togglePlaylist=function(a){if(!x)return!1;bh(a)};this.toggleRandom=function(a){if(!x||
"undefined"===typeof L)return!1;L.setRandom(a)};this.toggleLoop=function(a){if(!x||"undefined"===typeof L)return!1;L.setLooping(a)};this.setPlaybackRate=function(a){if(!x||!l)return!1;g.playbackRate=a;S&&("audio"==l?w&&(w.playbackRate=a):"video"==l?r&&(r.playbackRate=a):"youtube"==l?D.setPlaybackRate(Number(a)):"vimeo"==l&&y.setPlaybackRate(a).then(function(b){})["catch"](function(b){console.log(b.name)}))};this.setPlaybackQuality=function(a){if(!x||!l)return!1;if(S&&("audio"==l||"video"==l))if("hls"==
O){var b=parseInt(a,10);-1==currentQuality?(W.currentLevel=b,W.nextLevel=b,W.loadLevel=b):W.currentLevel=a}else if("dash"!=O){g.quality=a;v(a);df=!0;Bb=!1;Na&&cancelAnimationFrame(Na);xa&&clearInterval(xa);ca=null;if("audio"==l)w&&(ca=w.currentTime,w.pause(),w.src=""),Gc&&Gc.off("ended pause play canplay ratechange loadedmetadata error"),Qd&&zb&&zb.clean();else if("video"==l){Ab&&"video_360"==O&&Pb&&Pb.hide();if(r){ca=r.currentTime;r.pause();try{r.currentTime=0}catch(d){}r.src="";r=null}Ma&&Ma.off("ended loadedmetadata canplay canplaythrough ratechange waiting playing play pause error seeked")}Y.hide();
S=fa=!1;Mf();ja()}};this.toggleInfo=function(a){if(!x||!l)return!1;Pf(a)};this.toggleShare=function(a){if(!x||!l)return!1;Qf(a)};this.toggleFullscreen=function(){if(!x)return!1;u()};this.openLightbox=function(a){if(!x||Hb)return!1;Ba.css("display","block");setTimeout(function(){clearTimeout(this);Ba.css("opacity",1)},50);"undefined"!==typeof a?(a=M.find(".mvp-playlist-item[data-media-id="+a+"]"),0!=a.length?(a=a.attr("data-id"),L.processPlaylistRequest(a)):L.processPlaylistRequest(L.getCounter())):
L.processPlaylistRequest(L.getCounter())};this.closeLightbox=function(){if(!x)return!1;Ba.one("transitionend",function(){Ba.css("display","none");Hb=!1}).css("opacity",0);l&&kc()};this.destroyMedia=function(){if(!x)return!1;Bg()};this.destroyPlaylist=function(){if(!x)return!1;Ke()};this.destroyInstance=function(){Ke();L&&(k(L).off(),L=null);Va&&(k(Va).off(),Va=null);Ka&&(k(Ka).off(),Ka=null);zb&&(Ka=null);W&&(W.off(),W.destroy(),W=null);Ca&&(Ca.off(),dashjs.MediaPlayer().reset(),Ca=null);Pa.off(".mvp");
Ff.off(".mvp")};this.loadPlaylist=function(a,b){if(!x||Ga)return!1;if("string"===typeof a){c.mediaId=b;if(cd==a)return!1;hh(a)}else return alert("Invalid value loadPlaylist!"),!1};this.setAutoPlay=function(a){ma=a};this.inputMedia=function(a){if(!x||Ga)return!1;ua&&Uf();0<Q&&L.reSetCounter();g=a;l=a.type;Q&&0!=Q||(c.mediaEndAction="loop");Od()};this.loadMedia=function(a,b,d){if(!x||Ga||!Ac)return!1;var e=-1;if("title"==a){for(a=0;a<Q;a++)if(b==ka[a].data.title){e=a;var f=!0;break}if(!f)return alert('No media with title "'+
b+'" to load! LoadMedia failed.'),!1}else if("counter"==a){if(0>b||b>Q-1)return alert('Invalid track number. Track number  "'+b+'" doesnt exist. LoadMedia failed.'),!1;e=b}else if("id"==a){e=M.find(".mvp-playlist-item[data-media-id="+b+"]");if(0==e.length)return alert("No media with media ID "+b+" to load! LoadMedia failed."),!1;e=e.attr("data-id")}else if("id-title"==a){e=M.find('.mvp-playlist-item[data-media-id="'+b+'"][title="'+d+'"]');if(0==e.length)return alert("No media with media ID "+b+" to load! LoadMedia failed."),
!1;e=e.attr("data-id")}else return console.log("loadMedia function requires format parameter!"),!1;yc();L.processPlaylistRequest(e)};this.addTrack=function(a,b,d,e,f){if(!x||Ga)return!1;Ve=!1;"undefined"!==typeof d&&(Ve=d);bg=f?!0:!1;d=1;f=!1;if("string"!==typeof b&&"[object Object]"!==Object.prototype.toString.call(b))if("[object Array]"===Object.prototype.toString.call(b))d=b.length,f=!0;else return alert("addTrack method requires track as string, object or array parameter. AddTrack failed."),!1;
ob=e;fd=!1;Cc=!0;Ac?"undefined"!==typeof ob?0>ob?ob=0:(ob=Q,fd=!0):(fd=!0,ob=Q):(ob=0,fd=!0);Ga=!0;P.show();dd=-1;la=[];Aa=[];for(e=0;e<d;e++){var m=f?b[e]:b;m="html"==a?Kd(k(m)):m;Aa.push(m)}Q=Aa.length;Ac=M;Md=!1;bg?(la=Aa,Ld()):va()};this.removeTrack=function(a,b){if(!x||Ga)return!1;if(0!=Q){if("title"==a){var d;for(d=0;d<Q;d++)if(b==ka[d].data.title){var e=M.children(".mvp-playlist-item").eq(d);var f=!0;break}if(!f)return alert('Track with title "'+b+'" doesnt exist. RemoveTrack failed.'),!1}else if("counter"==
a){b=parseInt(b,10);if(0>b||b>Q-1)return alert('Track number  "'+b+'" doesnt exist. RemoveTrack failed.'),!1;e=M.find(".mvp-playlist-item").eq(b)}else if("id"==a){if(e=M.find(".mvp-playlist-item[data-media-id="+b+"]"),0==e.length)return alert('Track with media id "'+b+'" doesnt exist. RemoveTrack failed.'),!1}else return alert("removeTrack method failed."),!1;e.remove();ka.splice(parseInt(e.attr("data-id"),10),1);jh();0<Q?(e=L.getCounter(),b==e?(kc(),L.setPlaylistItems(Q)):(L.setPlaylistItems(Q,!1),
b<e&&L.reSetCounter(L.getCounter()-1))):Ke();Ec&&ph()}};this.totalScrollAction=function(){eb?Wa&&Mb&&(Ga||q.loadMore()):Nb&&(Ja||Fg())};this.loadMore=function(){if(!x||!Mb||!Wa||Ga)return!1;Ga=!0;P.show();Ja=!0;la=[];if("youtube"==Mb)if(Va)Va.resumeLoad(Wa);else{ed("youtube");var a=setInterval(function(){Va&&(clearInterval(a),Va.resumeLoad(Wa))},100)}else"vimeo"==Mb&&(Ka?Ka.resumeLoad(Wa):(ed("vimeo"),a=setInterval(function(){Ka&&(clearInterval(a),Ka.resumeLoad(Wa))},100)))};this.setLoadMore=function(a){eb=
a};this.endLoadMore=function(){Ga=!1;P.hide();Ja=!1};this.addMore=function(){if(!x||Ga)return!1;Nb&&(Ja||Fg())};this.setAddMore=function(a){Nb=a};this.getTitle=function(){return x&&g?g.title:!1};this.getMediaPlaying=function(){return x?fa:!1};this.getPlaylistLength=function(){return x?Q:!1};this.getPlaylistData=function(){return x?ka:!1};this.getLastPlaylistData=function(){return x?ag:!1};this.getMediaType=function(){return x?l:!1};this.getSetupDone=function(){return x};this.isPlaylistLoading=function(){return Ga};
this.getSettings=function(){return c};this.getActiveItemId=function(){return x?"undefined"!==typeof L?L.getCounter():null:!1};this.adSkip=function(){if(!x||!R||!le)return!1;he&&he.trigger("click")};this.resize=function(){if(!x)return!1;jb()};if(Bd&&c.playbackPositionKey)if(!pi)localStorage.removeItem(re);else if(localStorage.getItem(re)){var Jf=JSON.parse(localStorage.getItem(re));Jf.activePlaylist==c.activePlaylist&&(c.playbackPositionTime=Jf.resumeTime,J=Jf.volume,c.activeItem=Jf.activeItem);localStorage.removeItem(re)}Ec?
"undefined"===typeof MVPCacheManager&&(ra=document.createElement("script"),ra.type="text/javascript",ra.src=MVPUtils.qualifyURL(c.sourcePath+c.cache_js),ra.onload=ra.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||(ud=new MVPCacheManager("TeanCacheMVP"),k(ud).on("MVPCacheManager.GET_DATA",function(a,b){if(b){var d=b.value;if(d.date+c.cacheTime>Math.floor(Date.now()/1E3))if(d.activePlaylist==c.activePlaylist){cd=c.activePlaylist;Md=!0;console.log("Playlist is loading from cache!");
d.globalPlaylistData&&M.html(d.globalPlaylistData);var e=JSON.parse(d.playlist);la=[];var f,m=e.length;for(f=0;f<m;f++)la.push(e[f].data);d.loadMoreOnTotalScroll&&(eb=d.loadMoreOnTotalScroll,Wa=d.nextPageToken,ac=d.loadMoreItem,Mb=d.loadMoreType)}else ud.deleteData();else ud.deleteData()}li()}))},ra.onerror=function(){alert("Error loading "+this.src)},nc=document.getElementsByTagName("script")[0],nc.parentNode.insertBefore(ra,nc)):li();c.showControlsBeforeStart&&(hb.find(".mvp-btn-play").show(),Oa());
return this}}})(jQuery);